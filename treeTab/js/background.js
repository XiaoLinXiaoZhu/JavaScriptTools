(()=>{var e={ebc29fc41c9b671f01d0(e){var t={en_GB:"en-gb",en_US:"en",zh_CN:"zh-cn",zh_TW:"zh-tw"};e.exports=function(e,r,n){var a=r.prototype.locale;r.prototype.locale=function(e){if("string"==typeof e){var r;e=t[r=e]||r.split("_")[0]}return a.call(this,e)}}},"2a33fa08c213cc37dcd0"(e,t,r){var n=r("7b9beaf6d4772c96a5ec"),a=r("024704567d28eefc5824"),s=TypeError;e.exports=function(e){if(n(e))return e;throw s(a(e)+" is not a function")}},"47062ce7ea558f4213b8"(e,t,r){var n=r("6d378b35eb29c6467250"),a=String,s=TypeError;e.exports=function(e){if(n(e))return e;throw s(a(e)+" is not an object")}},d04195e4a9cd7fc0fc30(e,t,r){var n=r("29055e9e134a429732ce"),a=r("9049873f5c2f51ecca51"),s=r("5e41132f53317d2ef2c1"),i=function(e){return function(t,r,i){var o,l=n(t),c=s(l),u=a(i,c);if(e&&r!=r){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"0c6c343f4fc6b1e3d0c1"(e,t,r){"use strict";var n=r("cd7d1f714084fdf032ac"),a=r("173cd3071de32cac4666"),s=TypeError,i=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(a(e)&&!i(e,"length").writable)throw s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},d6e845259936b4eee924(e,t,r){var n=r("215a94d0446dea11e121"),a=n({}.toString),s=n("".slice);e.exports=function(e){return s(a(e),8,-1)}},"89af88142e6f85816b8a"(e,t,r){var n=r("6cf58ea65f1728c677f4"),a=r("e311d56ca950365897f6"),s=r("f888ba63616c5e97212c"),i=r("d1660b0dc429ab96721b");e.exports=function(e,t,r){for(var o=a(t),l=i.f,c=s.f,u=0;u<o.length;u++){var d=o[u];n(e,d)||r&&n(r,d)||l(e,d,c(t,d))}}},"67486cd02a98dc61385d"(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("d1660b0dc429ab96721b"),s=r("b34b6d801b904adc5830");e.exports=n?function(e,t,r){return a.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},b34b6d801b904adc5830(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"2de2f3e3c24f4bd8c09b"(e,t,r){var n=r("7b9beaf6d4772c96a5ec"),a=r("d1660b0dc429ab96721b"),s=r("081fbf0b8c0d414e743c"),i=r("2ee1b9f2cfa948bf2707");e.exports=function(e,t,r,o){o||(o={});var l=o.enumerable,c=void 0!==o.name?o.name:t;if(n(r)&&s(r,c,o),o.global)l?e[t]=r:i(t,r);else{try{o.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=r:a.f(e,t,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},"2ee1b9f2cfa948bf2707"(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=Object.defineProperty;e.exports=function(e,t){try{a(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},cd7d1f714084fdf032ac(e,t,r){var n=r("8d28ab55a7b25927e711");e.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},b02f45dec49cc872ed7e(e){var t="object"==typeof document&&document.all;e.exports={all:t,IS_HTMLDDA:void 0===t&&void 0!==t}},"8f787e7ff4d605389f5c"(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("6d378b35eb29c6467250"),s=n.document,i=a(s)&&a(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},a047b655c4468d4dad99(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},"5b2dd325803e78bd621d"(e,t,r){var n=r("e73172e785b0452571af");e.exports=n("navigator","userAgent")||""},"3f707188d60aab83cda5"(e,t,r){var n,a,s=r("8844eb8cacfb4c96b8bf"),i=r("5b2dd325803e78bd621d"),o=s.process,l=s.Deno,c=o&&o.versions||l&&l.version,u=c&&c.v8;u&&(a=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!a&&i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(a=+n[1]),e.exports=a},d63c8846be99324e60f4(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},f815d6060d043518d8fc(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("f888ba63616c5e97212c").f,s=r("67486cd02a98dc61385d"),i=r("2de2f3e3c24f4bd8c09b"),o=r("2ee1b9f2cfa948bf2707"),l=r("89af88142e6f85816b8a"),c=r("8ffeb0b91a268000be26");e.exports=function(e,t){var r,u,d,f,h,g=e.target,m=e.global,p=e.stat;if(r=m?n:p?n[g]||o(g,{}):(n[g]||{}).prototype)for(u in t){if(f=t[u],d=e.dontCallGetSet?(h=a(r,u))&&h.value:r[u],!c(m?u:g+(p?".":"#")+u,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&s(f,"sham",!0),i(r,u,f,e)}}},"8d28ab55a7b25927e711"(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"430669a10b77974c8865"(e,t,r){var n=r("8d28ab55a7b25927e711");e.exports=!n(function(){var e=(function(){}).bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},"8d3492dbdee7c610dccb"(e,t,r){var n=r("430669a10b77974c8865"),a=Function.prototype.call;e.exports=n?a.bind(a):function(){return a.apply(a,arguments)}},f0dab788d934ff0125ac(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("6cf58ea65f1728c677f4"),s=Function.prototype,i=n&&Object.getOwnPropertyDescriptor,o=a(s,"name"),l=o&&(!n||n&&i(s,"name").configurable);e.exports={EXISTS:o,PROPER:o&&"something"===(function(){}).name,CONFIGURABLE:l}},"215a94d0446dea11e121"(e,t,r){var n=r("430669a10b77974c8865"),a=Function.prototype,s=a.call,i=n&&a.bind.bind(s,s);e.exports=n?i:function(e){return function(){return s.apply(e,arguments)}}},e73172e785b0452571af(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("7b9beaf6d4772c96a5ec");e.exports=function(e,t){var r;return arguments.length<2?a(r=n[e])?r:void 0:n[e]&&n[e][t]}},"225cfcde01daa35679b7"(e,t,r){var n=r("2a33fa08c213cc37dcd0"),a=r("1ceaae0678df628efc8f");e.exports=function(e,t){var r=e[t];return a(r)?void 0:n(r)}},"8844eb8cacfb4c96b8bf"(e,t,r){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},"6cf58ea65f1728c677f4"(e,t,r){var n=r("215a94d0446dea11e121"),a=r("6bb4aabfffa207cf484f"),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(a(e),t)}},"4ea362e015fab0e29ba2"(e){e.exports={}},"6c6a2ae46107ff4ca631"(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("8d28ab55a7b25927e711"),s=r("8f787e7ff4d605389f5c");e.exports=!n&&!a(function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},"78891ad6f545e7a57c3c"(e,t,r){var n=r("215a94d0446dea11e121"),a=r("8d28ab55a7b25927e711"),s=r("d6e845259936b4eee924"),i=Object,o=n("".split);e.exports=a(function(){return!i("z").propertyIsEnumerable(0)})?function(e){return"String"==s(e)?o(e,""):i(e)}:i},e34a6d19b25e12ed075a(e,t,r){var n=r("215a94d0446dea11e121"),a=r("7b9beaf6d4772c96a5ec"),s=r("2e68538b1a180320e7dc"),i=n(Function.toString);a(s.inspectSource)||(s.inspectSource=function(e){return i(e)}),e.exports=s.inspectSource},cd2439e62372a2318aba(e,t,r){var n,a,s,i=r("94fdc89c42a4be5a23f2"),o=r("8844eb8cacfb4c96b8bf"),l=r("6d378b35eb29c6467250"),c=r("67486cd02a98dc61385d"),u=r("6cf58ea65f1728c677f4"),d=r("2e68538b1a180320e7dc"),f=r("f531c956f29fb0e626a0"),h=r("4ea362e015fab0e29ba2"),g="Object already initialized",m=o.TypeError,p=o.WeakMap;if(i||d.state){var b=d.state||(d.state=new p);b.get=b.get,b.has=b.has,b.set=b.set,n=function(e,t){if(b.has(e))throw m(g);return t.facade=e,b.set(e,t),t},a=function(e){return b.get(e)||{}},s=function(e){return b.has(e)}}else{var y=f("state");h[y]=!0,n=function(e,t){if(u(e,y))throw m(g);return t.facade=e,c(e,y,t),t},a=function(e){return u(e,y)?e[y]:{}},s=function(e){return u(e,y)}}e.exports={set:n,get:a,has:s,enforce:function(e){return s(e)?a(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!l(t)||(r=a(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},"173cd3071de32cac4666"(e,t,r){var n=r("d6e845259936b4eee924");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"7b9beaf6d4772c96a5ec"(e,t,r){var n=r("b02f45dec49cc872ed7e"),a=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===a}:function(e){return"function"==typeof e}},"8ffeb0b91a268000be26"(e,t,r){var n=r("8d28ab55a7b25927e711"),a=r("7b9beaf6d4772c96a5ec"),s=/#|\.prototype\./,i=function(e,t){var r=l[o(e)];return r==u||r!=c&&(a(t)?n(t):!!t)},o=i.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},"1ceaae0678df628efc8f"(e){e.exports=function(e){return null==e}},"6d378b35eb29c6467250"(e,t,r){var n=r("7b9beaf6d4772c96a5ec"),a=r("b02f45dec49cc872ed7e"),s=a.all;e.exports=a.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===s}:function(e){return"object"==typeof e?null!==e:n(e)}},d8044620e0f3b70da211(e){e.exports=!1},bc83a8101082cb116f0e(e,t,r){var n=r("e73172e785b0452571af"),a=r("7b9beaf6d4772c96a5ec"),s=r("cf37fd995894abbcf974"),i=r("8d0b5d684b93db428fed"),o=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return a(t)&&s(t.prototype,o(e))}},"5e41132f53317d2ef2c1"(e,t,r){var n=r("823adc74d2aa75a7f3fb");e.exports=function(e){return n(e.length)}},"081fbf0b8c0d414e743c"(e,t,r){var n=r("8d28ab55a7b25927e711"),a=r("7b9beaf6d4772c96a5ec"),s=r("6cf58ea65f1728c677f4"),i=r("cd7d1f714084fdf032ac"),o=r("f0dab788d934ff0125ac").CONFIGURABLE,l=r("e34a6d19b25e12ed075a"),c=r("cd2439e62372a2318aba"),u=c.enforce,d=c.get,f=Object.defineProperty,h=i&&!n(function(){return 8!==f(function(){},"length",{value:8}).length}),g=String(String).split("String"),m=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||o&&e.name!==t)&&(i?f(e,"name",{value:t,configurable:!0}):e.name=t),h&&r&&s(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?i&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(n){}var a=u(e);return s(a,"source")||(a.source=g.join("string"==typeof t?t:"")),e};Function.prototype.toString=m(function(){return a(this)&&d(this).source||l(this)},"toString")},fc26efeddc3b02264127(e){var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},d1660b0dc429ab96721b(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("6c6a2ae46107ff4ca631"),s=r("9c5a7b775e838a329f45"),i=r("47062ce7ea558f4213b8"),o=r("fe5cae50954d25d70d9a"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",h="writable";t.f=n?s?function(e,t,r){if(i(e),t=o(t),i(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(i(e),t=o(t),i(r),a)try{return c(e,t,r)}catch(n){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},f888ba63616c5e97212c(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("8d3492dbdee7c610dccb"),s=r("fe56a2c7acd47cf544f6"),i=r("b34b6d801b904adc5830"),o=r("29055e9e134a429732ce"),l=r("fe5cae50954d25d70d9a"),c=r("6cf58ea65f1728c677f4"),u=r("6c6a2ae46107ff4ca631"),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=o(e),t=l(t),u)try{return d(e,t)}catch(r){}if(c(e,t))return i(!a(s.f,e,t),e[t])}},"1473d1987d7294998434"(e,t,r){var n=r("f3470c41d1e8d3e891c4"),a=r("d63c8846be99324e60f4").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},"4da2da736848b1029264"(e,t){t.f=Object.getOwnPropertySymbols},cf37fd995894abbcf974(e,t,r){var n=r("215a94d0446dea11e121");e.exports=n({}.isPrototypeOf)},f3470c41d1e8d3e891c4(e,t,r){var n=r("215a94d0446dea11e121"),a=r("6cf58ea65f1728c677f4"),s=r("29055e9e134a429732ce"),i=r("d04195e4a9cd7fc0fc30").indexOf,o=r("4ea362e015fab0e29ba2"),l=n([].push);e.exports=function(e,t){var r,n=s(e),c=0,u=[];for(r in n)!a(o,r)&&a(n,r)&&l(u,r);for(;t.length>c;)a(n,r=t[c++])&&(~i(u,r)||l(u,r));return u}},fe56a2c7acd47cf544f6(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);t.f=a?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},"3a8042a302b7656128c1"(e,t,r){var n=r("8d3492dbdee7c610dccb"),a=r("7b9beaf6d4772c96a5ec"),s=r("6d378b35eb29c6467250"),i=TypeError;e.exports=function(e,t){var r,o;if("string"===t&&a(r=e.toString)&&!s(o=n(r,e))||a(r=e.valueOf)&&!s(o=n(r,e))||"string"!==t&&a(r=e.toString)&&!s(o=n(r,e)))return o;throw i("Can't convert object to primitive value")}},e311d56ca950365897f6(e,t,r){var n=r("e73172e785b0452571af"),a=r("215a94d0446dea11e121"),s=r("1473d1987d7294998434"),i=r("4da2da736848b1029264"),o=r("47062ce7ea558f4213b8"),l=a([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(o(e)),r=i.f;return r?l(t,r(e)):t}},a574bb1d5f7baad995e7(e,t,r){var n=r("1ceaae0678df628efc8f"),a=TypeError;e.exports=function(e){if(n(e))throw a("Can't call method on "+e);return e}},f531c956f29fb0e626a0(e,t,r){var n=r("194688cb48f537037f27"),a=r("06af25ca7f1d052fc78d"),s=n("keys");e.exports=function(e){return s[e]||(s[e]=a(e))}},"2e68538b1a180320e7dc"(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("2ee1b9f2cfa948bf2707"),s="__core-js_shared__",i=n[s]||a(s,{});e.exports=i},"194688cb48f537037f27"(e,t,r){var n=r("d8044620e0f3b70da211"),a=r("2e68538b1a180320e7dc");(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:n?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"34fc7911b41c2cfd6e63"(e,t,r){var n=r("3f707188d60aab83cda5"),a=r("8d28ab55a7b25927e711");e.exports=!!Object.getOwnPropertySymbols&&!a(function(){var e=Symbol();return!String(e)||!(Object(e) instanceof Symbol)||!Symbol.sham&&n&&n<41})},"9049873f5c2f51ecca51"(e,t,r){var n=r("3a4d7041139d1971de27"),a=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):s(r,t)}},"29055e9e134a429732ce"(e,t,r){var n=r("78891ad6f545e7a57c3c"),a=r("a574bb1d5f7baad995e7");e.exports=function(e){return n(a(e))}},"3a4d7041139d1971de27"(e,t,r){var n=r("fc26efeddc3b02264127");e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},"823adc74d2aa75a7f3fb"(e,t,r){var n=r("3a4d7041139d1971de27"),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},"6bb4aabfffa207cf484f"(e,t,r){var n=r("a574bb1d5f7baad995e7"),a=Object;e.exports=function(e){return a(n(e))}},a4ddece3c9b6aa6e645f(e,t,r){var n=r("8d3492dbdee7c610dccb"),a=r("6d378b35eb29c6467250"),s=r("bc83a8101082cb116f0e"),i=r("225cfcde01daa35679b7"),o=r("3a8042a302b7656128c1"),l=r("28580600fd2fe33dab20"),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!a(e)||s(e))return e;var r,l=i(e,u);if(l){if(void 0===t&&(t="default"),!a(r=n(l,e,t))||s(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},fe5cae50954d25d70d9a(e,t,r){var n=r("a4ddece3c9b6aa6e645f"),a=r("bc83a8101082cb116f0e");e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},"024704567d28eefc5824"(e){var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},"06af25ca7f1d052fc78d"(e,t,r){var n=r("215a94d0446dea11e121"),a=0,s=Math.random(),i=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++a+s,36)}},"8d0b5d684b93db428fed"(e,t,r){var n=r("34fc7911b41c2cfd6e63");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"9c5a7b775e838a329f45"(e,t,r){var n=r("cd7d1f714084fdf032ac"),a=r("8d28ab55a7b25927e711");e.exports=n&&a(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},"94fdc89c42a4be5a23f2"(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("7b9beaf6d4772c96a5ec"),s=n.WeakMap;e.exports=a(s)&&/native code/.test(String(s))},"28580600fd2fe33dab20"(e,t,r){var n=r("8844eb8cacfb4c96b8bf"),a=r("194688cb48f537037f27"),s=r("6cf58ea65f1728c677f4"),i=r("06af25ca7f1d052fc78d"),o=r("34fc7911b41c2cfd6e63"),l=r("8d0b5d684b93db428fed"),c=a("wks"),u=n.Symbol,d=u&&u.for,f=l?u:u&&u.withoutSetter||i;e.exports=function(e){if(!s(c,e)||!(o||"string"==typeof c[e])){var t="Symbol."+e;o&&s(u,e)?c[e]=u[e]:l&&d?c[e]=d(t):c[e]=f(t)}return c[e]}},"2c88a0a43a64fac49a93"(e,t,r){"use strict";var n=r("f815d6060d043518d8fc"),a=r("6bb4aabfffa207cf484f"),s=r("5e41132f53317d2ef2c1"),i=r("0c6c343f4fc6b1e3d0c1"),o=r("a047b655c4468d4dad99"),l=r("8d28ab55a7b25927e711")(function(){return 4294967297!==[].push.call({length:4294967296},1)}),c=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:l||c},{push:function(e){var t=a(this),r=s(t),n=arguments.length;o(r+n);for(var l=0;l<n;l++)t[r]=arguments[l],r++;return i(t,r),r}})},"4808639261ef1f946259":function(e){var t,r,n,a,s,i,o,l,c,u,d,f,h,g,m,p,b,y,v,A,w;e.exports=(t="millisecond",r="second",n="minute",a="hour",s="week",i="month",o="quarter",l="year",c="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},(m={})[g="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}},p=function(e){return e instanceof A},b=function e(t,r,n){var a;if(!t)return g;if("string"==typeof t){var s=t.toLowerCase();m[s]&&(a=s),r&&(m[s]=r,a=s);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var o=t.name;m[o]=t,a=o}return!n&&a&&(g=a),a||!n&&g},y=function(e,t){if(p(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},(v={s:h,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(r/60),2,"0")+":"+h(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,i),s=r-a<0,o=t.clone().add(n+(s?-1:1),i);return+(-(n+(r-a)/(s?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:i,y:l,w:s,d:"day",D:c,h:a,m:n,s:r,ms:t,Q:o})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=b,v.i=p,v.w=function(e,t){return y(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},w=(A=function(){function e(e){this.$L=b(e.locale,null,!0),this.parse(e)}var h=e.prototype;return h.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var a=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},h.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},h.$utils=function(){return v},h.isValid=function(){return this.$d.toString()!==u},h.isSame=function(e,t){var r=y(e);return this.startOf(t)<=r&&r<=this.endOf(t)},h.isAfter=function(e,t){return y(e)<this.startOf(t)},h.isBefore=function(e,t){return this.endOf(t)<y(e)},h.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(e,t){var o=this,u=!!v.u(t)||t,d=v.p(e),f=function(e,t){var r=v.w(o.$u?Date.UTC(o.$y,t,e):new Date(o.$y,t,e),o);return u?r:r.endOf("day")},h=function(e,t){return v.w(o.toDate()[e].apply(o.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),o)},g=this.$W,m=this.$M,p=this.$D,b="set"+(this.$u?"UTC":"");switch(d){case l:return u?f(1,0):f(31,11);case i:return u?f(1,m):f(0,m+1);case s:var y=this.$locale().weekStart||0,A=(g<y?g+7:g)-y;return f(u?p-A:p+(6-A),m);case"day":case c:return h(b+"Hours",0);case a:return h(b+"Minutes",1);case n:return h(b+"Seconds",2);case r:return h(b+"Milliseconds",3);default:return this.clone()}},h.endOf=function(e){return this.startOf(e,!1)},h.$set=function(e,s){var o,u=v.p(e),d="set"+(this.$u?"UTC":""),f=((o={}).day=d+"Date",o[c]=d+"Date",o[i]=d+"Month",o[l]=d+"FullYear",o[a]=d+"Hours",o[n]=d+"Minutes",o[r]=d+"Seconds",o[t]=d+"Milliseconds",o)[u],h="day"===u?this.$D+(s-this.$W):s;if(u===i||u===l){var g=this.clone().set(c,1);g.$d[f](h),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](h);return this.init(),this},h.set=function(e,t){return this.clone().$set(e,t)},h.get=function(e){return this[v.p(e)]()},h.add=function(e,t){var o,c=this;e=Number(e);var u=v.p(t),d=function(t){var r=y(c);return v.w(r.date(r.date()+Math.round(t*e)),c)};if(u===i)return this.set(i,this.$M+e);if(u===l)return this.set(l,this.$y+e);if("day"===u)return d(1);if(u===s)return d(7);var f=((o={})[n]=6e4,o[a]=36e5,o[r]=1e3,o)[u]||1,h=this.$d.getTime()+e*f;return v.w(h,this)},h.subtract=function(e,t){return this.add(-1*e,t)},h.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||u;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=v.z(this),s=this.$H,i=this.$m,o=this.$M,l=r.weekdays,c=r.months,d=function(e,r,a,s){return e&&(e[r]||e(t,n))||a[r].slice(0,s)},h=function(e){return v.s(s%12||12,e,"0")},g=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:v.s(o+1,2,"0"),MMM:d(r.monthsShort,o,c,3),MMMM:d(c,o),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:d(r.weekdaysMin,this.$W,l,2),ddd:d(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:v.s(s,2,"0"),h:h(1),hh:h(2),a:g(s,i,!0),A:g(s,i,!1),m:String(i),mm:v.s(i,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:a};return n.replace(f,function(e,t){return t||m[e]||a.replace(":","")})},h.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},h.diff=function(e,t,c){var u,d=v.p(t),f=y(e),h=(f.utcOffset()-this.utcOffset())*6e4,g=this-f,m=v.m(this,f);return m=((u={})[l]=m/12,u[i]=m,u[o]=m/3,u[s]=(g-h)/6048e5,u.day=(g-h)/864e5,u[a]=g/36e5,u[n]=g/6e4,u[r]=g/1e3,u)[d]||g,c?m:v.a(m)},h.daysInMonth=function(){return this.endOf(i).$D},h.$locale=function(){return m[this.$L]},h.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=b(e,t,!0);return n&&(r.$L=n),r},h.clone=function(){return v.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},e}()).prototype,y.prototype=w,[["$ms",t],["$s",r],["$m",n],["$H",a],["$W","day"],["$M",i],["$y",l],["$D",c]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),y.extend=function(e,t){return e.$i||(e(t,A,y),e.$i=!0),y},y.locale=b,y.isDayjs=p,y.unix=function(e){return y(1e3*e)},y.en=m[g],y.Ls=m,y.p={},y)},"47c541aa93adfb8e7d75":function(e){e.exports=function(e,t){var r=t.prototype,n=r.format;r.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return n.bind(this)(e);var a=this.$utils(),s=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return a.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return a.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return a.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}});return n.bind(this)(s)}}},"912813b5f411f85e132e":function(e){var t,r,n,a,s,i,o,l,c,u,d,f;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,a=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,i={},o=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e||"Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],u=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var r,n=i.meridiem;if(n){for(var a=1;a<=24;a+=1)if(e.indexOf(n(a,0,t))>-1){r=a>12;break}}else r=e===(t?"pm":"PM");return r},f={A:[s,function(e){this.afternoon=d(e,!1)}],a:[s,function(e){this.afternoon=d(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[a,l("seconds")],ss:[a,l("seconds")],m:[a,l("minutes")],mm:[a,l("minutes")],H:[a,l("hours")],h:[a,l("hours")],HH:[a,l("hours")],hh:[a,l("hours")],D:[a,l("day")],DD:[n,l("day")],Do:[s,function(e){var t=i.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],M:[a,l("month")],MM:[n,l("month")],MMM:[s,function(e){var t=u("months"),r=(u("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(r<1)throw Error();this.month=r%12||r}],MMMM:[s,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw Error();this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(e){this.year=o(e)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c},function(e,n,a){a.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(o=e.parseTwoDigitYear);var s=n.prototype,l=s.parse;s.parse=function(e){var n=e.date,s=e.utc,o=e.args;this.$u=s;var c=o[1];if("string"==typeof c){var u=!0===o[2],d=!0===o[3],h=o[2];d&&(h=o[2]),i=this.$locale(),!u&&h&&(i=a.Ls[h]),this.$d=function(e,n,a){try{if(["x","X"].indexOf(n)>-1)return new Date(("X"===n?1e3:1)*e);var s=(function(e){var n,a;n=e,a=i&&i.formats;for(var s=(e=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,r,n){var s=n&&n.toUpperCase();return r||a[n]||t[n]||a[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})})).match(r),o=s.length,l=0;l<o;l+=1){var c=s[l],u=f[c],d=u&&u[0],h=u&&u[1];s[l]=h?{regex:d,parser:h}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<o;r+=1){var a=s[r];if("string"==typeof a)n+=a.length;else{var i=a.regex,l=a.parser,c=e.slice(n),u=i.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}})(n)(e),o=s.year,l=s.month,c=s.day,u=s.hours,d=s.minutes,h=s.seconds,g=s.milliseconds,m=s.zone,p=new Date,b=c||(o||l?1:p.getDate()),y=o||p.getFullYear(),v=0;o&&!l||(v=l>0?l-1:p.getMonth());var A=u||0,w=d||0,x=h||0,_=g||0;return m?new Date(Date.UTC(y,v,b,A,w,x,_+60*m.offset*1e3)):a?new Date(Date.UTC(y,v,b,A,w,x,_)):new Date(y,v,b,A,w,x,_)}catch(k){return new Date("")}}(n,c,s),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),(u||d)&&n!=this.format(c)&&(this.$d=new Date("")),i={}}else if(c instanceof Array)for(var g=c.length,m=1;m<=g;m+=1){o[1]=c[m-1];var p=a.apply(this,o);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}m===g&&(this.$d=new Date(""))}else l.call(this,e)}})},a36f9c4c1a7ae97d1da9:function(e){e.exports=function(e,t,r){r.isMoment=function(e){return r.isDayjs(e)}}},"861504e91ca931fb0615":function(e){e.exports=function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}},b852b873daf9ef01bef3:function(e){e.exports=function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}},"50b63a8155d9508f51ed":function(e){e.exports=function(e,t,r){var n=t.prototype,a=function(e){return e&&(e.indexOf?e:e.s)},s=function(e,t,r,n,s){var i=e.name?e:e.$locale(),o=a(i[t]),l=a(i[r]),c=o||l.map(function(e){return e.slice(0,n)});if(!s)return c;var u=i.weekStart;return c.map(function(e,t){return c[(t+(u||0))%7]})},i=function(){return r.Ls[r.locale()]},o=function(e,t){return e.formats[t]||e.formats[t.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})},l=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):s(e,"months")},monthsShort:function(t){return t?t.format("MMM"):s(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):s(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):s(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):s(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return o(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};n.localeData=function(){return l.bind(this)()},r.localeData=function(){var e=i();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(t){return o(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},r.months=function(){return s(i(),"months")},r.monthsShort=function(){return s(i(),"monthsShort","months",3)},r.weekdays=function(e){return s(i(),"weekdays",null,null,e)},r.weekdaysShort=function(e){return s(i(),"weekdaysShort","weekdays",3,e)},r.weekdaysMin=function(e){return s(i(),"weekdaysMin","weekdays",2,e)}}},"2df2ac92e4aea4a9f176":function(e){var t;e.exports=(t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,r,n){var a=r.prototype,s=a.format;n.en.formats=t,a.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var r,n,a=this.$locale().formats,i=(r=e,n=void 0===a?{}:a,r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,r,a){var s=a&&a.toUpperCase();return r||n[a]||t[a]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})}));return s.call(this,i)}})},"12ecbf252a875bc20db9":function(e){var t,r;e.exports=(t="week",r="year",function(e,n,a){var s=n.prototype;s.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var n=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var s=a(this).startOf(r).add(1,r).date(n),i=a(this).endOf(t);if(s.isBefore(i))return 1}var o=a(this).startOf(r).date(n).startOf(t).subtract(1,"millisecond"),l=this.diff(o,t,!0);return l<0?a(this).startOf("week").week():Math.ceil(l)},s.weeks=function(e){return void 0===e&&(e=null),this.week(e)}})},"2520a48519099198eddc":function(e){e.exports=function(e,t){t.prototype.weekYear=function(){var e=this.month(),t=this.week(),r=this.year();return 1===t&&11===e?r+1:0===e&&t>=52?r-1:r}}},"4cc600f88e500e0f3d1e":function(e){e.exports=function(e,t){t.prototype.weekday=function(e){var t=this.$locale().weekStart||0,r=this.$W,n=(r<t?r+7:r)-t;return this.$utils().u(e)?n:this.subtract(n,"day").add(e,"day")}}},"2be8736dc15280eb7f8b"(e,t,r){var n=r("83853aeeeb904857ccdd")(r("9d83b8ba3bb0c55a3052"),"DataView");e.exports=n},"29a19f4b6f587f17d723"(e,t,r){var n=r("83853aeeeb904857ccdd")(r("9d83b8ba3bb0c55a3052"),"Map");e.exports=n},"84e755e8e680462842f3"(e,t,r){var n=r("83853aeeeb904857ccdd")(r("9d83b8ba3bb0c55a3052"),"Promise");e.exports=n},"893edce1fc9b47f78584"(e,t,r){var n=r("83853aeeeb904857ccdd")(r("9d83b8ba3bb0c55a3052"),"Set");e.exports=n},"1aaae380f1e83ecceeaf"(e,t,r){var n=r("9d83b8ba3bb0c55a3052").Symbol;e.exports=n},"2c84efbf89d8a8e40bd7"(e,t,r){var n=r("83853aeeeb904857ccdd")(r("9d83b8ba3bb0c55a3052"),"WeakMap");e.exports=n},fcb35cfd211881a3943a(e,t,r){var n=r("1aaae380f1e83ecceeaf"),a=r("65191a29def2eca12f0b"),s=r("cfaaf3379cdb88ecfc01"),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):s(e)}},d17639ff2c69fc9f5ac5(e,t,r){var n=r("fcb35cfd211881a3943a"),a=r("36142c3aeadbc5df315a");e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},b9d7334b46645f58a0b5(e,t,r){var n=r("77f15e91e6b44c8b3be0"),a=r("effd440cacd54b978012"),s=r("028de91a24b1d88f1838"),i=r("6e28bd59db29feeccfab"),o=/^\[object .+?Constructor\]$/,l=Object.prototype,c=Function.prototype.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(n(e)?d:o).test(i(e))}},"2bacf82456e512199e12"(e,t,r){var n=r("fcb35cfd211881a3943a"),a=r("c769720becf04fdd2554"),s=r("36142c3aeadbc5df315a"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!i[n(e)]}},"569a9d41e29fd43ab146"(e,t,r){var n=r("eee5604a72db09f41dbc"),a=r("94fc814a2abc4d8acb59"),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&t.push(r);return t}},d6777748e67253af3a2a(e){e.exports=function(e){return function(t){return e(t)}}},a866a8017016d1d8c37c(e,t,r){var n=r("9d83b8ba3bb0c55a3052")["__core-js_shared__"];e.exports=n},e86227a274e4d9be1b59(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},"83853aeeeb904857ccdd"(e,t,r){var n=r("b9d7334b46645f58a0b5"),a=r("222a35b680b99cff5db5");e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},"65191a29def2eca12f0b"(e,t,r){var n=r("1aaae380f1e83ecceeaf"),a=Object.prototype,s=a.hasOwnProperty,i=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(a){}var l=i.call(e);return n&&(t?e[o]=r:delete e[o]),l}},"6f97d49ad07b2417363a"(e,t,r){var n=r("2be8736dc15280eb7f8b"),a=r("29a19f4b6f587f17d723"),s=r("84e755e8e680462842f3"),i=r("893edce1fc9b47f78584"),o=r("2c84efbf89d8a8e40bd7"),l=r("fcb35cfd211881a3943a"),c=r("6e28bd59db29feeccfab"),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",g="[object DataView]",m=c(n),p=c(a),b=c(s),y=c(i),v=c(o),A=l;(n&&A(new n(new ArrayBuffer(1)))!=g||a&&A(new a)!=u||s&&A(s.resolve())!=d||i&&A(new i)!=f||o&&A(new o)!=h)&&(A=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return g;case p:return u;case b:return d;case y:return f;case v:return h}return t}),e.exports=A},"222a35b680b99cff5db5"(e){e.exports=function(e,t){return null==e?void 0:e[t]}},effd440cacd54b978012(e,t,r){var n,a=r("a866a8017016d1d8c37c"),s=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!s&&s in e}},eee5604a72db09f41dbc(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor,n="function"==typeof r&&r.prototype||t;return e===n}},"94fc814a2abc4d8acb59"(e,t,r){var n=r("d742368020a820a4e0f9")(Object.keys,Object);e.exports=n},"9af344df4292f184e1bb"(e,t,r){e=r.nmd(e);var n=r("e86227a274e4d9be1b59"),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a&&n.process,o=function(){try{var e=s&&s.require&&s.require("util").types;if(e)return e;return i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},cfaaf3379cdb88ecfc01(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},d742368020a820a4e0f9(e){e.exports=function(e,t){return function(r){return e(t(r))}}},"9d83b8ba3bb0c55a3052"(e,t,r){var n=r("e86227a274e4d9be1b59"),a="object"==typeof self&&self&&self.Object===Object&&self,s=n||a||Function("return this")();e.exports=s},"6e28bd59db29feeccfab"(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(n){}}return""}},a920271b5415897097e0(e,t,r){var n=r("d17639ff2c69fc9f5ac5"),a=r("36142c3aeadbc5df315a"),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},"8853681f2411b1cf01d4"(e){var t=Array.isArray;e.exports=t},"57a4b5c3117f3cf18221"(e,t,r){var n=r("77f15e91e6b44c8b3be0"),a=r("c769720becf04fdd2554");e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},"2120e70a015871ce0c1b"(e,t,r){e=r.nmd(e);var n=r("9d83b8ba3bb0c55a3052"),a=r("64a881f40572b0c265fa"),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?n.Buffer:void 0,l=o?o.isBuffer:void 0;e.exports=l||a},"085714657dfae2e91df7"(e,t,r){var n=r("569a9d41e29fd43ab146"),a=r("6f97d49ad07b2417363a"),s=r("a920271b5415897097e0"),i=r("8853681f2411b1cf01d4"),o=r("57a4b5c3117f3cf18221"),l=r("2120e70a015871ce0c1b"),c=r("eee5604a72db09f41dbc"),u=r("5c83edecf5bb48909cf2"),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||s(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},"77f15e91e6b44c8b3be0"(e,t,r){var n=r("fcb35cfd211881a3943a"),a=r("028de91a24b1d88f1838");e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},c769720becf04fdd2554(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"028de91a24b1d88f1838"(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"36142c3aeadbc5df315a"(e){e.exports=function(e){return null!=e&&"object"==typeof e}},"5c83edecf5bb48909cf2"(e,t,r){var n=r("2bacf82456e512199e12"),a=r("d6777748e67253af3a2a"),s=r("9af344df4292f184e1bb"),i=s&&s.isTypedArray,o=i?a(i):n;e.exports=o},"64a881f40572b0c265fa"(e){e.exports=function(){return!1}},cbde6fcdc55dc39ee1e4:function(e,t,r){var n,a;void 0!==(n="function"==typeof(a=function(){"use strict";var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(n){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(t,r){for(var a=0;a<n.length;a++){var s=n[a];this[s]=a<t?e:this.methodFactory(s,t,r)}this.log=this.debug}function o(e,r,n){return function(){typeof console!==t&&(i.call(this,r,n),this[e].apply(this,arguments))}}function l(n,i,l){var c;return"debug"===(c=n)&&(c="log"),typeof console!==t&&("trace"===c&&r?s:void 0!==console[c]?a(console,c):void 0!==console.log?a(console,"log"):e)||o.apply(this,arguments)}function c(e,r,a){var s,o=this;r=null==r?"WARN":r;var c="loglevel";function u(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(r){}if(typeof e===t)try{var n=window.document.cookie,a=n.indexOf(encodeURIComponent(c)+"=");-1!==a&&(e=/^([^;]+)/.exec(n.slice(a))[1])}catch(s){}return void 0===o.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),o.name=e,o.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},o.methodFactory=a||l,o.getLevel=function(){return s},o.setLevel=function(r,a){if("string"==typeof r&&void 0!==o.levels[r.toUpperCase()]&&(r=o.levels[r.toUpperCase()]),"number"==typeof r&&r>=0&&r<=o.levels.SILENT){if(s=r,!1!==a&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{window.localStorage[c]=r;return}catch(a){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(s){}}}(r),i.call(o,r,e),typeof console===t&&r<o.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+r},o.setDefaultLevel=function(e){r=e,u()||o.setLevel(e,!1)},o.resetLevel=function(){o.setLevel(r,!1),function(){if(typeof window!==t&&c){try{window.localStorage.removeItem(c);return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(r){}}}()},o.enableAll=function(e){o.setLevel(o.levels.TRACE,e)},o.disableAll=function(e){o.setLevel(o.levels.SILENT,e)};var d=u();null==d&&(d=r),o.setLevel(d,!1)}var u=new c,d={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new c(e,u.getLevel(),u.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=f),u},u.getLoggers=function(){return d},u.default=u,u})?a.call(t,r,t,e):a)&&(e.exports=n)},"85b2de118cea713668e5"(e){let t=e=>"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?()=>{let t=crypto.getRandomValues(new Uint8Array(1))[0];return(t>=e?t%e:t).toString(e)}:()=>Math.floor(Math.random()*e).toString(e),r=(e=7,r=!1)=>Array.from({length:e},t(r?16:36)).join("");e.exports=r,e.exports.default=r},"9f2edc6bb701dc1625c3":function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0!==(n=(function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw Error("This script should only be loaded in a browser extension.");void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype?e.exports=(e=>{let t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}let n=e=>e&&"object"==typeof e&&"function"==typeof e.then,a=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},s=e=>1==e?"argument":"arguments",i=(e,t)=>function(r,...n){if(n.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((s,i)=>{if(t.fallbackToNoCallback)try{r[e](...n,a({resolve:s,reject:i},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(r[e](...n),s()):r[e](...n,a({resolve:s,reject:i},t))})},o=(e,t,r)=>new Proxy(t,{apply:(t,n,a)=>r.call(n,e,...a)}),l=Function.call.bind(Object.prototype.hasOwnProperty),c=(e,t={},r={})=>{let n=Object.create(null),a=Object.create(e);return new Proxy(a,{has:(t,r)=>r in e||r in n,get(a,s,u){if(s in n)return n[s];if(!(s in e))return;let d=e[s];if("function"==typeof d){if("function"==typeof t[s])d=o(e,e[s],t[s]);else if(l(r,s)){let f=i(s,r[s]);d=o(e,e[s],f)}else d=d.bind(e)}else if("object"==typeof d&&null!==d&&(l(t,s)||l(r,s)))d=c(d,t[s],r[s]);else{if(!l(r,"*"))return Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:()=>e[s],set(t){e[s]=t}}),d;d=c(d,t[s],r["*"])}return n[s]=d,d},set:(t,r,a,s)=>(r in n?n[r]=a:e[r]=a,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)})},u=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),d=new r(e=>"function"!=typeof e?e:function(t){let r=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)}),f=new r(e=>"function"!=typeof e?e:function(t,r,a){let s,i,o=!1,l=new Promise(e=>{s=function(t){o=!0,e(t)}});try{i=e(t,r,s)}catch(c){i=Promise.reject(c)}let u=!0!==i&&n(i);return(!0===i||!!u||!!o)&&((e=>{e.then(e=>{a(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})})(u?i:l),!0)}),h=({reject:t,resolve:r},n)=>{e.runtime.lastError?"The message port closed before a response was received."===e.runtime.lastError.message?r():t(Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?t(Error(n.message)):r(n)},g=(e,t,r,...n)=>{if(n.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{let a=h.bind(null,{resolve:e,reject:t});n.push(a),r.sendMessage(...n)})},m={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(f),onMessageExternal:u(f),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},c(e,m,t)})(chrome):e.exports=globalThis.browser}).apply(t,r))&&(e.exports=n)},a8ae739d74c344c6b375:function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],void 0!==(n=(function(e){"use strict";if("object"!=typeof globalThis||"object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw Error("This script should only be loaded in a browser extension.");void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype?e.exports=(e=>{let t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}let n=e=>e&&"object"==typeof e&&"function"==typeof e.then,a=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},s=e=>1==e?"argument":"arguments",i=(e,t)=>function(r,...n){if(n.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((s,i)=>{if(t.fallbackToNoCallback)try{r[e](...n,a({resolve:s,reject:i},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(r[e](...n),s()):r[e](...n,a({resolve:s,reject:i},t))})},o=(e,t,r)=>new Proxy(t,{apply:(t,n,a)=>r.call(n,e,...a)}),l=Function.call.bind(Object.prototype.hasOwnProperty),c=(e,t={},r={})=>{let n=Object.create(null),a=Object.create(e);return new Proxy(a,{has:(t,r)=>r in e||r in n,get(a,s,u){if(s in n)return n[s];if(!(s in e))return;let d=e[s];if("function"==typeof d){if("function"==typeof t[s])d=o(e,e[s],t[s]);else if(l(r,s)){let f=i(s,r[s]);d=o(e,e[s],f)}else d=d.bind(e)}else if("object"==typeof d&&null!==d&&(l(t,s)||l(r,s)))d=c(d,t[s],r[s]);else{if(!l(r,"*"))return Object.defineProperty(n,s,{configurable:!0,enumerable:!0,get:()=>e[s],set(t){e[s]=t}}),d;d=c(d,t[s],r["*"])}return n[s]=d,d},set:(t,r,a,s)=>(r in n?n[r]=a:e[r]=a,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)})},u=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),d=new r(e=>"function"!=typeof e?e:function(t){let r=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)}),f=!1,h=new r(e=>"function"!=typeof e?e:function(t,r,a){let s,i,o=!1,l=new Promise(e=>{s=function(t){f||(console.warn("Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",Error().stack),f=!0),o=!0,e(t)}});try{i=e(t,r,s)}catch(c){i=Promise.reject(c)}let u=!0!==i&&n(i);return(!0===i||!!u||!!o)&&((e=>{e.then(e=>{a(e)},e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",a({__mozWebExtensionPolyfillReject__:!0,message:t})}).catch(e=>{console.error("Failed to send onMessage rejected reply",e)})})(u?i:l),!0)}),g=({reject:t,resolve:r},n)=>{e.runtime.lastError?"The message port closed before a response was received."===e.runtime.lastError.message?r():t(Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?t(Error(n.message)):r(n)},m=(e,t,r,...n)=>{if(n.length<t.minArgs)throw Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise((e,t)=>{let a=g.bind(null,{resolve:e,reject:t});n.push(a),r.sendMessage(...n)})},p={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(h),onMessageExternal:u(h),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},b={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{"*":b},services:{"*":b},websites:{"*":b}},c(e,p,t)})(chrome):e.exports=globalThis.browser}).apply(t,r))&&(e.exports=n)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{var e=r("4808639261ef1f946259"),t=r("b852b873daf9ef01bef3"),n=r("861504e91ca931fb0615"),a=r("47c541aa93adfb8e7d75"),s=r("912813b5f411f85e132e"),i=r("4cc600f88e500e0f3d1e"),o=r("2520a48519099198eddc"),l=r("12ecbf252a875bc20db9"),c=r("a36f9c4c1a7ae97d1da9"),u=r("50b63a8155d9508f51ed"),d=r("2df2ac92e4aea4a9f176");e.extend(t),e.extend(n),e.extend(a),e.extend(s),e.extend(i),e.extend(o),e.extend(l),e.extend(c),e.extend(u),e.extend(d);var f=r("ebc29fc41c9b671f01d0");e.extend(f)})(),(()=>{"use strict";let e;var t=r("cbde6fcdc55dc39ee1e4"),n=r.n(t),a=r("85b2de118cea713668e5"),s=()=>`uid::${a(7)}`,i=(e,t=["endpointName","fingerprint"])=>"object"==typeof e&&null!==e&&t.every(t=>t in e),o=e=>{if(!i(e))throw TypeError("Invalid connection args");return JSON.stringify(e)},l=e=>{try{let t=JSON.parse(e);return i(t)?t:null}catch(r){return null}},c=()=>{let e=[];return{add(...t){e=[...e,...t]},remove(t){e="string"==typeof t?e.filter(e=>e.message.transactionId!==t):e.filter(e=>!t.includes(e))},entries:()=>e}},u=class{static toBackground(e,t){return e.postMessage(t)}static toExtensionContext(e,t){return e.postMessage(t)}},d=Object.defineProperty,f=Object.defineProperties,h=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,b=(e,t,r)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&b(e,r,t[r]);if(g)for(var r of g(t))p.call(t,r)&&b(e,r,t[r]);return e},v=(e,t)=>f(e,h(t)),A=/^((?:background$)|devtools|popup|options|content-script|window)(?:@(\d+)(?:\.(\d+))?)?$/,w=e=>{let[,t,r,n]=e.match(A)||[];return{context:t,tabId:+r,frameId:n?+n:void 0}},x=({context:e,tabId:t,frameId:r})=>["background","popup","options"].includes(e)?e:`${e}@${t}${r?`.${r}`:""}`;class _ extends Error{name="NonError";constructor(e){super(_._prepareSuperMessage(e))}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}}let k=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],S=Symbol(".toJSON was called"),M=e=>{e[S]=!0;let t=e.toJSON();return delete e[S],t},O=({from:e,seen:t,to_:r,forceEnumerable:n,maxDepth:a,depth:s})=>{let i=r||(Array.isArray(e)?[]:{});if(t.push(e),s>=a)return i;if("function"==typeof e.toJSON&&!0!==e[S])return M(e);for(let[o,l]of Object.entries(e)){if("function"==typeof Buffer&&Buffer.isBuffer(l)){i[o]="[object Buffer]";continue}if(null!==l&&"object"==typeof l&&"function"==typeof l.pipe){i[o]="[object Stream]";continue}if("function"!=typeof l){if(!l||"object"!=typeof l){i[o]=l;continue}if(!t.includes(e[o])){s++,i[o]=O({from:e[o],seen:[...t],forceEnumerable:n,maxDepth:a,depth:s});continue}i[o]="[Circular]"}}for(let{property:c,enumerable:u}of k)"string"==typeof e[c]&&Object.defineProperty(i,c,{value:e[c],enumerable:!!n||u,configurable:!0,writable:!0});return i};function E(e,t={}){let{maxDepth:r=Number.POSITIVE_INFINITY}=t;return"object"==typeof e&&null!==e?O({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e}let P=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(e=>e(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(e=>e!==t)}});var j=(e,t,r)=>{let n=a(),s=new Map,i=new Map,o=a=>{if(a.destination.context===e&&!a.destination.frameId&&!a.destination.tabId){null==r||r(a);let{transactionId:l,messageID:c,messageType:u}=a,d=()=>{let e=s.get(l);if(e){let{err:t,data:r}=a;if(t){let n=self[t.name],i=new("function"==typeof n?n:Error)(t.message);for(let o in t)i[o]=t[o];e.reject(i)}else e.resolve(r);s.delete(l)}},f=async()=>{let t,r;let n=!1;try{let s=i.get(c);if("function"==typeof s)t=await s({sender:a.origin,id:c,data:a.data,timestamp:a.timestamp});else throw n=!0,Error(`[webext-bridge] No handler registered in '${e}' to accept messages with id '${c}'`)}catch(l){r=l}finally{if(r&&(a.err=E(r)),o(v(y({},a),{messageType:"reply",data:t,origin:{context:e,tabId:null},destination:a.origin,hops:[]})),r&&!n)throw t}};switch(u){case"reply":return d();case"message":return f()}}return a.hops.push(`${e}::${n}`),t(a)};return{handleMessage:o,endTransaction(e){let t=s.get(e);null==t||t.reject("Transaction was ended before it could complete"),s.delete(e)},sendMessage(t,r,n="background"){let i="string"==typeof n?w(n):n;if(!i.context)throw TypeError("Bridge#sendMessage -> Destination must be any one of known destinations");return new Promise((n,l)=>{let c={messageID:t,data:r,destination:i,messageType:"message",transactionId:a(),origin:{context:e,tabId:null},hops:[],timestamp:Date.now()};s.set(c.transactionId,{resolve:n,reject:l});try{o(c)}catch(u){s.delete(c.transactionId),l(u)}})},onMessage:(e,t)=>(i.set(e,t),()=>i.delete(e))}},T=class{constructor(e,t){this.endpointRuntime=e,this.streamInfo=t,this.emitter=P(),this.isClosed=!1,this.handleStreamClose=()=>{this.isClosed||(this.isClosed=!0,this.emitter.emit("closed",!0),this.emitter.events={})},T.initDone||(e.onMessage("__crx_bridge_stream_transfer__",e=>{let{streamId:t,streamTransfer:r,action:n}=e.data,a=T.openStreams.get(t);a&&!a.isClosed&&("transfer"===n&&a.emitter.emit("message",r),"close"===n&&(T.openStreams.delete(t),a.handleStreamClose()))}),T.initDone=!0),T.openStreams.set(this.streamInfo.streamId,this)}get info(){return this.streamInfo}send(e){if(this.isClosed)throw Error("Attempting to send a message over closed stream. Use stream.onClose(<callback>) to keep an eye on stream status");this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:e,action:"transfer"},this.streamInfo.endpoint)}close(e){e&&this.send(e),this.handleStreamClose(),this.endpointRuntime.sendMessage("__crx_bridge_stream_transfer__",{streamId:this.streamInfo.streamId,streamTransfer:null,action:"close"},this.streamInfo.endpoint)}onMessage(e){return this.getDisposable("message",e)}onClose(e){return this.getDisposable("closed",e)}getDisposable(e,t){let r=this.emitter.on(e,t);return Object.assign(r,{dispose:r,close:r})}},C=T;C.initDone=!1,C.openStreams=new Map;var D=e=>{let t=new Map,r=new Map,n=P();async function s(r,n){if(t.has(r))throw Error("webext-bridge: A Stream is already open at this channel");let s="string"==typeof n?w(n):n,i={streamId:a(),channel:r,endpoint:s},o=new C(e,i);return o.onClose(()=>t.delete(r)),await e.sendMessage("__crx_bridge_stream_open__",i,s),t.set(r,o),o}function i(e,t){if(r.has(e))throw Error("webext-bridge: This channel has already been claimed. Stream allows only one-on-one communication");r.set(e,t),n.emit("did-change-stream-callbacks")}return e.onMessage("__crx_bridge_stream_open__",t=>new Promise(a=>{let{sender:s,data:i}=t,{channel:o}=i,l=!1,c=()=>{},u=()=>{let t=r.get(o);"function"==typeof t?(t(new C(e,v(y({},i),{endpoint:s}))),l&&c(),a(!0)):l||(l=!0,c=n.on("did-change-stream-callbacks",u))};u()})),{openStream:s,onOpenStreamChannel:i}},I=r("a8ae739d74c344c6b375"),$=c(),L=new Map,N=new Map,B=new Map,F=(e,t)=>(N.set(e,(N.get(e)||new Set).add(t)),()=>{let r=N.get(e);(null==r?void 0:r.delete(t))&&(null==r?void 0:r.size)===0&&N.delete(e)}),K=(e,t)=>{B.set(e,(B.get(e)||new Set).add(t))},R=e=>({withFingerprint(t){let r=e=>({and:()=>e}),n={aboutIncomingMessage(t){let a=L.get(e);return u.toExtensionContext(a.port,{status:"incoming",message:t}),r(n)},aboutSuccessfulDelivery(t){let a=L.get(e);return u.toExtensionContext(a.port,{status:"delivered",receipt:t}),r(n)},aboutMessageUndeliverability(a,s){let i=L.get(e);return(null==i?void 0:i.fingerprint)===t&&u.toExtensionContext(i.port,{status:"undeliverable",resolvedDestination:a,message:s}),r(n)},whenDeliverableTo(a){let s=()=>{let r=L.get(e);if((null==r?void 0:r.fingerprint)===t&&L.has(a))return u.toExtensionContext(r.port,{status:"deliverable",deliverableTo:a}),!0};if(!s()){let i=F(a,s);K(t,i)}return r(n)},aboutSessionEnded(a){let s=L.get(e);return(null==s?void 0:s.fingerprint)===t&&u.toExtensionContext(s.port,{status:"terminated",fingerprint:a}),r(n)}};return n}}),Y=s(),U=j("background",e=>{var t;if("background"===e.origin.context&&["content-script","devtools "].includes(e.destination.context)&&!e.destination.tabId)throw TypeError("When sending messages from background page, use @tabId syntax to target specific tab");let r=x(y(y({},e.origin),"window"===e.origin.context&&{context:"content-script"})),n=x(v(y(y({},e.destination),"window"===e.destination.context&&{context:"content-script"}),{tabId:e.destination.tabId||e.origin.tabId}));e.destination.tabId=null,e.destination.frameId=null;let a=()=>L.get(n),s=()=>L.get(r),i=()=>{var t;R(n).withFingerprint(a().fingerprint).aboutIncomingMessage(e);let i={message:e,to:a().fingerprint,from:{endpointId:r,fingerprint:null==(t=s())?void 0:t.fingerprint}};"message"===e.messageType&&$.add(i),"reply"===e.messageType&&$.remove(e.messageID),s()&&R(r).withFingerprint(s().fingerprint).aboutSuccessfulDelivery(i)};(null==(t=a())?void 0:t.port)?i():"message"===e.messageType&&("background"===e.origin.context?F(n,i):s()&&R(r).withFingerprint(s().fingerprint).aboutMessageUndeliverability(n,e).and().whenDeliverableTo(n))},e=>{let t=x(y(y({},e.origin),"window"===e.origin.context&&{context:"content-script"})),r=L.get(t),n={message:e,to:Y,from:{endpointId:t,fingerprint:r.fingerprint}};R(t).withFingerprint(r.fingerprint).aboutSuccessfulDelivery(n)});I.runtime.onConnect.addListener(e=>{var t;let r=l(e.name);if(!r)return;r.endpointName||(r.endpointName=x({context:"content-script",tabId:e.sender.tab.id,frameId:e.sender.frameId}));let{tabId:n,frameId:a}=w(r.endpointName);L.set(r.endpointName,{fingerprint:r.fingerprint,port:e}),null==(t=N.get(r.endpointName))||t.forEach(e=>e()),N.delete(r.endpointName),K(r.fingerprint,()=>{let e=$.entries().filter(e=>e.to===r.fingerprint);$.remove(e),e.forEach(e=>{"background"===e.from.endpointId?U.endTransaction(e.message.transactionId):R(e.from.endpointId).withFingerprint(e.from.fingerprint).aboutSessionEnded(r.fingerprint)})}),e.onDisconnect.addListener(()=>{var e,t;(null==(e=L.get(r.endpointName))?void 0:e.fingerprint)===r.fingerprint&&L.delete(r.endpointName),null==(t=B.get(r.fingerprint))||t.forEach(e=>e()),B.delete(r.fingerprint)}),e.onMessage.addListener(e=>{var t,s;if("sync"===e.type){let i=[...L.values()].map(e=>e.fingerprint),o=e.pendingResponses.filter(e=>i.includes(e.to));$.add(...o),e.pendingResponses.filter(e=>!i.includes(e.to)).forEach(e=>R(r.endpointName).withFingerprint(r.fingerprint).aboutSessionEnded(e.to)),e.pendingDeliveries.forEach(e=>R(r.endpointName).withFingerprint(r.fingerprint).whenDeliverableTo(e));return}"deliver"===e.type&&(null==(s=null==(t=e.message)?void 0:t.origin)?void 0:s.context)&&(e.message.origin.tabId=n,e.message.origin.frameId=a,U.handleMessage(e.message))})});var{sendMessage:q,onMessage:W}=U,{openStream:z,onOpenStreamChannel:V}=D(U),H=r("9f2edc6bb701dc1625c3"),G=r.n(H);let Z=()=>{n().setLevel("error")};var J=r("2c88a0a43a64fac49a93");function X(e){let[t,r]=e.split("##");return[t,r]}class Q{constructor(e){this.connections={},this.topic=void 0,this.topic=e}start(){chrome.runtime.onConnect.addListener(e=>{let[t]=X(e.name);t===this.topic&&(e.onMessage.addListener(t=>this.handleMessage(t,e)),e.onDisconnect.addListener(()=>this.removePort(e)))})}handleMessage(e,t){let[,r]=X(t.name);if("init"===e.type){n().debug("[message broker] port added",t.name),this.connections[r]={port:t,lastUpdateTime:0};return}this.connections[r].lastUpdateTime=Date.now(),this.broadcastMessage(e,t)}broadcastMessage(e,t){for(let r in this.connections)this.connections[r].port!==t&&this.connections[r].port.postMessage(e)}removePort(e){for(let t in this.connections)if(this.connections[t].port===e){n().debug("[message broker] port removed",e.name),delete this.connections[t];return}}saveState(){let e=0,t=null;for(let r in this.connections)this.connections[r].lastUpdateTime>e&&(e=this.connections[r].lastUpdateTime,t=this.connections[r].port);t?t.postMessage({type:"saveState"}):this.connections&&this.connections[0]&&this.connections[0].port.postMessage({type:"saveState"})}}async function ee(e,t){return await G().runtime.sendMessage({type:e,payload:t})}async function et(e,t){return await ee(e,t).catch(()=>{})}function er(e){return e===G().runtime.getURL("tree.html")}var en=r("085714657dfae2e91df7"),ea=r.n(en);let es="extPageInfo",ei=async()=>{let e=await H.storage.local.get(es);return ea()(e)?null:JSON.parse(e[es])},eo=async e=>{let t=await ei()??{};return await H.storage.local.set({[es]:JSON.stringify({...t,...e})})},el=()=>H.storage.local.remove(es),ec=async e=>await H.storage.local.set({prevFocusWindowId:e}),eu="linkMapPosition",ed=async()=>{let e=await H.storage.local.get(eu);return ea()(e)?null:e[eu]},ef=async()=>!1,eh=async e=>{let t=await chrome.sidePanel.setOptions({path:"tree.html",enabled:e}),r=await chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:e});return Promise.all([t,r])},eg=async(e,t)=>{ec(e.windowId),eb(!1,t)},em=async e=>{let t=await e.getSetting(),r=t?.display||"window";await ("sidePanel"===r&&await ef()?eh(!0):eh(!1))};async function ep(e=!1,t){let r;let n=await chrome.system.display.getInfo(),a=n.find(e=>e.isPrimary),s=a?Math.floor(a.workArea.width/5):895,i=a?a.workArea.height:1050,o=a?a.workArea.width-s:0,l=s,c=i,u=o,d=0,f=await ed(),h=await t.getSetting();f&&h&&h.openAsLastPosition&&(l=f.width,c=f.height,u=f.left,d=f.top);try{r=await G().windows.create({url:`tree.html${e?"?onSearch":""}`,type:"popup",width:l,height:c,top:Math.max(d,0),left:Math.max(u,0),focused:!0})}catch{r=await G().windows.create({url:`tree.html${e?"?onSearch":""}`,type:"popup",width:s,height:i,top:0,left:0,focused:!0})}let g=r.tabs[0];await eo({windowId:g.windowId,tabId:g.id})}async function eb(e=!1,t){let r=await ei();if(null==r)await ep(e,t);else try{await G().windows.update(r.windowId,{focused:!0}),e&&await et("searchFocus",null)}catch{await ep(e,t)}}async function ey(e){let t=await ei();if(null==t)await ep(!1,e);else try{await G().windows.remove(t.windowId)}catch{await ep(!1,e)}}let ev={openLinkMap:"openLinkMap",globalSearch:"globalSearch"},eA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ew=Object.keys,ex=Array.isArray;function e_(e,t){return"object"!=typeof t||ew(t).forEach(function(r){e[r]=t[r]}),e}"undefined"==typeof Promise||eA.Promise||(eA.Promise=Promise);let ek=Object.getPrototypeOf,eS={}.hasOwnProperty;function eM(e,t){return eS.call(e,t)}function eO(e,t){"function"==typeof t&&(t=t(ek(e))),("undefined"==typeof Reflect?ew:Reflect.ownKeys)(t).forEach(r=>{eP(e,r,t[r])})}let eE=Object.defineProperty;function eP(e,t,r,n){eE(e,t,e_(r&&eM(r,"get")&&"function"==typeof r.get?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function ej(e){return{from:function(t){return e.prototype=Object.create(t.prototype),eP(e.prototype,"constructor",e),{extend:eO.bind(null,e.prototype)}}}}let eT=Object.getOwnPropertyDescriptor;function eC(e,t){let r;return eT(e,t)||(r=ek(e))&&eC(r,t)}let eD=[].slice;function eI(e,t,r){return eD.call(e,t,r)}function e$(e,t){return t(e)}function eL(e){if(!e)throw Error("Assertion Failed")}function eN(e){eA.setImmediate?setImmediate(e):setTimeout(e,0)}function eB(e,t){return e.reduce((e,r,n)=>{var a=t(r,n);return a&&(e[a[0]]=a[1]),e},{})}function eF(e,t){if(eM(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var r=[],n=0,a=t.length;n<a;++n){var s=eF(e,t[n]);r.push(s)}return r}var i=t.indexOf(".");if(-1!==i){var o=e[t.substr(0,i)];return void 0===o?void 0:eF(o,t.substr(i+1))}}function eK(e,t,r){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e))){if("string"!=typeof t&&"length"in t){eL("string"!=typeof r&&"length"in r);for(var n=0,a=t.length;n<a;++n)eK(e,t[n],r[n])}else{var s=t.indexOf(".");if(-1!==s){var i=t.substr(0,s),o=t.substr(s+1);if(""===o)void 0===r?ex(e)&&!isNaN(parseInt(i))?e.splice(i,1):delete e[i]:e[i]=r;else{var l=e[i];l&&eM(e,i)||(l=e[i]={}),eK(l,o,r)}}else void 0===r?ex(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}}function eR(e){var t={};for(var r in e)eM(e,r)&&(t[r]=e[r]);return t}let eY=[].concat;function eU(e){return eY.apply([],e)}let eq="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(eU([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>eA[e]),eW=eq.map(e=>eA[e]);eB(eq,e=>[e,!0]);let ez=null;function eV(e){ez="undefined"!=typeof WeakMap&&new WeakMap;let t=eH(e);return ez=null,t}function eH(e){if(!e||"object"!=typeof e)return e;let t=ez&&ez.get(e);if(t)return t;if(ex(e)){t=[],ez&&ez.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(eH(e[r]))}else if(eW.indexOf(e.constructor)>=0)t=e;else{let a=ek(e);for(var s in t=a===Object.prototype?{}:Object.create(a),ez&&ez.set(e,t),e)eM(e,s)&&(t[s]=eH(e[s]))}return t}let{toString:eG}={};function eZ(e){return eG.call(e).slice(8,-1)}let eJ="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",eX="symbol"==typeof eJ?function(e){var t;return null!=e&&(t=e[eJ])&&t.apply(e)}:function(){return null},eQ={};function e1(e){var t,r,n,a;if(1==arguments.length){if(ex(e))return e.slice();if(this===eQ&&"string"==typeof e)return[e];if(a=eX(e)){for(r=[];!(n=a.next()).done;)r.push(n.value);return r}if(null==e)return[e];if("number"==typeof(t=e.length)){for(r=Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=Array(t);t--;)r[t]=arguments[t];return r}let e0="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var e2="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function e8(e,t){e2=e,e4=t}var e4=()=>!0;let e7=!Error("").stack;function e5(){if(e7)try{throw e5.arguments,Error()}catch(e){return e}return Error()}function e3(e,t){var r=e.stack;return r?(t=t||0,0===r.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),r.split("\n").slice(t).filter(e4).map(e=>"\n"+e).join("")):""}var e9=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],e6=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(e9),te={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function tt(e,t){this._e=e5(),this.name=e,this.message=t}function tr(e,t){return e+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,t,r)=>r.indexOf(e)===t).join("\n")}function tn(e,t,r,n){this._e=e5(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=tr(e,t)}function ta(e,t){this._e=e5(),this.name="BulkError",this.failures=Object.keys(t).map(e=>t[e]),this.failuresByPos=t,this.message=tr(e,t)}ej(tt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+e3(this._e,2))}},toString:function(){return this.name+": "+this.message}}),ej(tn).from(tt),ej(ta).from(tt);var ts=e6.reduce((e,t)=>(e[t]=t+"Error",e),{}),ti=e6.reduce((e,t)=>{var r=t+"Error";function n(e,n){this._e=e5(),this.name=r,e?"string"==typeof e?(this.message=`${e}${n?"\n "+n:""}`,this.inner=n||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=te[t]||r,this.inner=null)}return ej(n).from(tt),e[t]=n,e},{});ti.Syntax=SyntaxError,ti.Type=TypeError,ti.Range=RangeError;var to=e9.reduce((e,t)=>(e[t+"Error"]=ti[t],e),{}),tl=e6.reduce((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ti[t]),e),{});function tc(){}function tu(e){return e}function td(e,t){return null==e||e===tu?t:function(r){return t(e(r))}}function tf(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function th(e,t){return e===tc?t:function(){var r=e.apply(this,arguments);void 0!==r&&(arguments[0]=r);var n=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?tf(n,this.onsuccess):n),a&&(this.onerror=this.onerror?tf(a,this.onerror):a),void 0!==s?s:r}}function tg(e,t){return e===tc?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?tf(r,this.onsuccess):r),n&&(this.onerror=this.onerror?tf(n,this.onerror):n)}}function tm(e,t){return e===tc?t:function(r){var n=e.apply(this,arguments);e_(r,n);var a=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?tf(a,this.onsuccess):a),s&&(this.onerror=this.onerror?tf(s,this.onerror):s),void 0===n?void 0===i?void 0:i:e_(n,i)}}function tp(e,t){return e===tc?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function tb(e,t){return e===tc?t:function(){var r=e.apply(this,arguments);if(r&&"function"==typeof r.then){for(var n=this,a=arguments.length,s=Array(a);a--;)s[a]=arguments[a];return r.then(function(){return t.apply(n,s)})}return t.apply(this,arguments)}}tl.ModifyError=tn,tl.DexieError=tt,tl.BulkError=ta;var ty={};let[tv,tA,tw]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,ek(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,ek(t),e]})(),tx=tA&&tA.then,t_=tv&&tv.constructor,tk=!!tw;var tS=!1,tM=tw?()=>{tw.then(tG)}:eA.setImmediate?setImmediate.bind(null,tG):eA.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{tG(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(tG,0)},tO=function(e,t){tL.push([e,t]),tP&&(tM(),tP=!1)},tE=!0,tP=!0,tj=[],tT=[],tC=null,tD=tu,tI={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:rc,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{rc(e[0],e[1])}catch(t){}})}},t$=tI,tL=[],tN=0,tB=[];function tF(e){if("object"!=typeof this)throw TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=tc,this._lib=!1;var t=this._PSD=t$;if(e2&&(this._stackHolder=e5(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ty)throw TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&tU(this,this._value))}this._state=null,this._value=null,++t.ref,tY(this,e)}let tK={get:function(){var e=t$,t=t7;function r(r,n){var a=!e.global&&(e!==t$||t!==t7);let s=a&&!t6();var i=new tF((t,i)=>{tW(this,new tR(ro(r,e,a,s),ro(n,e,a,s),t,i,e))});return e2&&tH(i,this),i}return r.prototype=ty,r},set:function(e){eP(this,"then",e&&e.prototype===ty?tK:{get:function(){return e},set:tK.set})}};function tR(e,t,r,n,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=r,this.reject=n,this.psd=a}function tY(e,t){try{t(t=>{if(null===e._state){if(t===e)throw TypeError("A promise cannot be resolved with itself.");var r=e._lib&&tZ();t&&"function"==typeof t.then?tY(e,(e,r)=>{t instanceof tF?t._then(e,r):t.then(e,r)}):(e._state=!0,e._value=t,tq(e)),r&&tJ()}},tU.bind(null,e))}catch(r){tU(e,r)}}function tU(e,t){if(tT.push(t),null===e._state){var r=e._lib&&tZ();t=tD(t),e._state=!1,e._value=t,e2&&null!==t&&"object"==typeof t&&!t._promise&&function(e,t,r){try{e.apply(null,void 0)}catch(n){t&&t(n)}}(()=>{var r=eC(t,"stack");t._promise=e,eP(t,"stack",{get:()=>tS?r&&(r.get?r.get.apply(t):r.value):e.stack})}),tj.some(t=>t._value===e._value)||tj.push(e),tq(e),r&&tJ()}}function tq(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)tW(e,t[r]);var a=e._PSD;--a.ref||a.finalize(),0===tN&&(++tN,tO(()=>{0==--tN&&tX()},[]))}function tW(e,t){if(null!==e._state){var r=e._state?t.onFulfilled:t.onRejected;if(null===r)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++tN,tO(tz,[r,e,t])}else e._listeners.push(t)}function tz(e,t,r){try{tC=t;var n,a=t._value;t._state?n=e(a):(tT.length&&(tT=[]),n=e(a),-1===tT.indexOf(a)&&function(e){for(var t=tj.length;t;)if(tj[--t]._value===e._value)return void tj.splice(t,1)}(t)),r.resolve(n)}catch(s){r.reject(s)}finally{tC=null,0==--tN&&tX(),--r.psd.ref||r.psd.finalize()}}function tV(e,t,r){if(t.length===r)return t;var n="";if(!1===e._state){var a,s,i=e._value;null!=i?(a=i.name||"Error",s=i.message||i,n=e3(i,0)):(a=i,s=""),t.push(a+(s?": "+s:"")+n)}return e2&&((n=e3(e._stackHolder,2))&&-1===t.indexOf(n)&&t.push(n),e._prev&&tV(e._prev,t,r)),t}function tH(e,t){var r=t?t._numPrev+1:0;r<100&&(e._prev=t,e._numPrev=r)}function tG(){tZ()&&tJ()}function tZ(){var e=tE;return tE=!1,tP=!1,e}function tJ(){var e,t,r;do for(;tL.length>0;)for(e=tL,tL=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(tL.length>0)tE=!0,tP=!0}function tX(){var e=tj;tj=[],e.forEach(e=>{e._PSD.onunhandled.call(null,e._value,e)});for(var t=tB.slice(0),r=t.length;r;)t[--r]()}function tQ(e){return new tF(ty,!1,e)}function t1(e,t){var r=t$;return function(){var n=tZ(),a=t$;try{return rn(r,!0),e.apply(this,arguments)}catch(s){t&&t(s)}finally{rn(a,!1),n&&tJ()}}}eO(tF.prototype,{then:tK,_then:function(e,t){tW(this,new tR(null,null,e,t,t$))},catch:function(e){if(1==arguments.length)return this.then(null,e);var t=arguments[0],r=arguments[1];return"function"==typeof t?this.then(null,e=>e instanceof t?r(e):tQ(e)):this.then(null,e=>e&&e.name===t?r(e):tQ(e))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),tQ(t)))},stack:{get:function(){if(this._stack)return this._stack;try{tS=!0;var e=tV(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{tS=!1}}},timeout:function(e,t){return e<1/0?new tF((r,n)=>{var a=setTimeout(()=>n(new ti.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,a))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&eP(tF.prototype,Symbol.toStringTag,"Dexie.Promise"),tI.env=ra(),eO(tF,{all:function(){var e=e1.apply(null,arguments).map(re);return new tF(function(t,r){0===e.length&&t([]);var n=e.length;e.forEach((a,s)=>tF.resolve(a).then(r=>{e[s]=r,--n||t(e)},r))})},resolve(e){if(e instanceof tF)return e;if(e&&"function"==typeof e.then)return new tF((t,r)=>{e.then(t,r)});var t=new tF(ty,!0,e);return tH(t,tC),t},reject:tQ,race:function(){var e=e1.apply(null,arguments).map(re);return new tF((t,r)=>{e.map(e=>tF.resolve(e).then(t,r))})},PSD:{get:()=>t$,set:e=>t$=e},totalEchoes:{get:()=>t7},newPSD:t3,usePSD:rs,scheduler:{get:()=>tO,set(e){tO=e}},rejectionMapper:{get:()=>tD,set(e){tD=e}},follow:(e,t)=>new tF((r,n)=>t3((t,r)=>{var n=t$;n.unhandleds=[],n.onunhandled=r,n.finalize=tf(function(){var e;e=()=>{0===this.unhandleds.length?t():r(this.unhandleds[0])},tB.push(function t(){e(),tB.splice(tB.indexOf(t),1)}),++tN,tO(()=>{0==--tN&&tX()},[])},n.finalize),e()},t,r,n))}),t_&&(t_.allSettled&&eP(tF,"allSettled",function(){let e=e1.apply(null,arguments).map(re);return new tF(t=>{0===e.length&&t([]);let r=e.length,n=Array(r);e.forEach((e,a)=>tF.resolve(e).then(e=>n[a]={status:"fulfilled",value:e},e=>n[a]={status:"rejected",reason:e}).then(()=>--r||t(n)))})}),t_.any&&"undefined"!=typeof AggregateError&&eP(tF,"any",function(){let e=e1.apply(null,arguments).map(re);return new tF((t,r)=>{0===e.length&&r(AggregateError([]));let n=e.length,a=Array(n);e.forEach((e,s)=>tF.resolve(e).then(e=>t(e),e=>{a[s]=e,--n||r(AggregateError(a))}))})}));let t0={awaits:0,echoes:0,id:0};var t2=0,t8=[],t4=0,t7=0,t5=0;function t3(e,t,r,n){var a=t$,s=Object.create(a);s.parent=a,s.ref=0,s.global=!1,s.id=++t5;var i=tI.env;s.env=tk?{Promise:tF,PromiseProp:{value:tF,configurable:!0,writable:!0},all:tF.all,race:tF.race,allSettled:tF.allSettled,any:tF.any,resolve:tF.resolve,reject:tF.reject,nthen:rl(i.nthen,s),gthen:rl(i.gthen,s)}:{},t&&e_(s,t),++a.ref,s.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=rs(s,e,r,n);return 0===s.ref&&s.finalize(),o}function t9(){return t0.id||(t0.id=++t2),++t0.awaits,t0.echoes+=100,t0.id}function t6(){return!!t0.awaits&&(0==--t0.awaits&&(t0.id=0),t0.echoes=100*t0.awaits,!0)}function re(e){return t0.echoes&&e&&e.constructor===t_?(t9(),e.then(e=>(t6(),e),e=>(t6(),ru(e)))):e}function rt(e){++t7,t0.echoes&&0!=--t0.echoes||(t0.echoes=t0.id=0),t8.push(t$),rn(e,!0)}function rr(){var e=t8[t8.length-1];t8.pop(),rn(e,!1)}function rn(e,t){var r=t$;if((t?!t0.echoes||t4++&&e===t$:!t4||--t4&&e===t$)||ri(t?rt.bind(null,e):rr),e!==t$&&(t$=e,r===tI&&(tI.env=ra()),tk)){var n=tI.env.Promise,a=e.env;tA.then=a.nthen,n.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(eA,"Promise",a.PromiseProp),n.all=a.all,n.race=a.race,n.resolve=a.resolve,n.reject=a.reject,a.allSettled&&(n.allSettled=a.allSettled),a.any&&(n.any=a.any))}}function ra(){var e=eA.Promise;return tk?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(eA,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:tA.then,gthen:e.prototype.then}:{}}function rs(e,t,r,n,a){var s=t$;try{return rn(e,!0),t(r,n,a)}finally{rn(s,!1)}}function ri(e){tx.call(tv,e)}function ro(e,t,r,n){return"function"!=typeof e?e:function(){var a=t$;r&&t9(),rn(t,!0);try{return e.apply(this,arguments)}finally{rn(a,!1),n&&ri(t6)}}}function rl(e,t){return function(r,n){return e.call(this,ro(r,t),ro(n,t))}}function rc(e,t){var r;try{r=t.onuncatched(e)}catch(n){}if(!1!==r)try{var a,s={promise:t,reason:e};if(eA.document&&document.createEvent?((a=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),e_(a,s)):eA.CustomEvent&&e_(a=new CustomEvent("unhandledrejection",{detail:s}),s),a&&eA.dispatchEvent&&(dispatchEvent(a),!eA.PromiseRejectionEvent&&eA.onunhandledrejection))try{eA.onunhandledrejection(a)}catch(i){}e2&&a&&!a.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(o){}}-1===(""+tx).indexOf("[native code]")&&(t9=t6=tc);var ru=tF.reject;function rd(e,t,r,n){if(e.idbdb&&(e._state.openComplete||t$.letThrough||e._vip)){var a=e._createTransaction(t,r,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===ts.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>rd(e,t,r,n))):ru(s)}return a._promise(t,(e,t)=>t3(()=>(t$.trans=a,n(e,t,a)))).then(e=>a._completion.then(()=>e))}if(e._state.openComplete)return ru(new ti.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ru(new ti.DatabaseClosed);e.open().catch(tc)}return e._state.dbReadyPromise.then(()=>rd(e,t,r,n))}let rf=String.fromCharCode(65535),rh="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",rg=[],rm="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),rp=e=>!/(dexie\.js|dexie\.min\.js)/.test(e);function rb(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}let ry={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function rv(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=eV(t))[e],t)}class rA{_trans(e,t,r){let n=this._tx||t$.trans,a=this.name;function s(e,r,n){if(!n.schema[a])throw new ti.NotFound("Table "+a+" not part of transaction");return t(n.idbtrans,n)}let i=tZ();try{return n&&n.db===this.db?n===t$.trans?n._promise(e,s,r):t3(()=>n._promise(e,s,r),{trans:n,transless:t$.transless||t$}):rd(this.db,e,[this.name],s)}finally{i&&tJ()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",t=>this.core.get({trans:t,key:e}).then(e=>this.hook.reading.fire(e))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(ex(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);let t=ew(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);let r=this.schema.indexes.concat(this.schema.primKey).filter(e=>e.compound&&t.every(t=>e.keyPath.indexOf(t)>=0)&&e.keyPath.every(e=>t.indexOf(e)>=0))[0];if(r&&this.db._maxKey!==rf)return this.where(r.name).equals(r.keyPath.map(t=>e[t]));!r&&e2&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);let{idxByName:n}=this.schema,a=this.db._deps.indexedDB;function s(e,t){try{return 0===a.cmp(e,t)}catch(r){return!1}}let[i,o]=t.reduce(([t,r],a)=>{let i=n[a],o=e[a];return[t||i,t||!i?rb(r,i&&i.multi?e=>{let t=eF(e,a);return ex(t)&&t.some(e=>s(o,e))}:e=>s(o,eF(e,a))):r]},[null,null]);return i?this.where(i.name).equals(e[i.keyPath]).filter(o):r?this.filter(o):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,ex(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;let t=t=>{if(!t)return t;let r=Object.create(e.prototype);for(var n in t)if(eM(t,n))try{r[n]=t[n]}catch(a){}return r};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass(function(e){e_(this,e)})}add(e,t){let{auto:r,keyPath:n}=this.schema.primKey,a=e;return n&&r&&(a=rv(n)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})).then(e=>e.numFailures?tF.reject(e.failures[0]):e.lastResult).then(t=>{if(n)try{eK(e,n,t)}catch(r){}return t})}update(e,t){if("object"!=typeof e||ex(e))return this.where(":id").equals(e).modify(t);{let r=eF(e,this.schema.primKey.keyPath);if(void 0===r)return ru(new ti.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?ew(t).forEach(r=>{eK(e,r,t[r])}):t(e,{value:e,primKey:r})}catch(n){}return this.where(":id").equals(r).modify(t)}}put(e,t){let{auto:r,keyPath:n}=this.schema.primKey,a=e;return n&&r&&(a=rv(n)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})).then(e=>e.numFailures?tF.reject(e.failures[0]):e.lastResult).then(t=>{if(n)try{eK(e,n,t)}catch(r){}return t})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(e=>e.numFailures?tF.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:ry})).then(e=>e.numFailures?tF.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>this.core.getMany({keys:e,trans:t}).then(e=>e.map(e=>this.hook.reading.fire(e))))}bulkAdd(e,t,r){let n=Array.isArray(t)?t:void 0,a=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",t=>{let{auto:r,keyPath:s}=this.schema.primKey;if(s&&n)throw new ti.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new ti.InvalidArgument("Arguments objects and keys must have the same length");let i=e.length,o=s&&r?e.map(rv(s)):e;return this.core.mutate({trans:t,type:"add",keys:n,values:o,wantResults:a}).then(({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return a?t:r;throw new ta(`${this.name}.bulkAdd(): ${e} of ${i} operations failed`,n)})})}bulkPut(e,t,r){let n=Array.isArray(t)?t:void 0,a=(r=r||(n?void 0:t))?r.allKeys:void 0;return this._trans("readwrite",t=>{let{auto:r,keyPath:s}=this.schema.primKey;if(s&&n)throw new ti.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==e.length)throw new ti.InvalidArgument("Arguments objects and keys must have the same length");let i=e.length,o=s&&r?e.map(rv(s)):e;return this.core.mutate({trans:t,type:"put",keys:n,values:o,wantResults:a}).then(({numFailures:e,results:t,lastResult:r,failures:n})=>{if(0===e)return a?t:r;throw new ta(`${this.name}.bulkPut(): ${e} of ${i} operations failed`,n)})})}bulkDelete(e){let t=e.length;return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:e})).then(({numFailures:e,lastResult:r,failures:n})=>{if(0===e)return r;throw new ta(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,n)})}}function rw(e){var t={},r=function(r,n){if(n){for(var a=arguments.length,s=Array(a-1);--a;)s[a-1]=arguments[a];return t[r].subscribe.apply(null,s),e}if("string"==typeof r)return t[r]};r.addEventType=s;for(var n=1,a=arguments.length;n<a;++n)s(arguments[n]);return r;function s(e,n,a){if("object"==typeof e)return function(e){ew(e).forEach(function(t){var r=e[t];if(ex(r))s(t,e[t][0],e[t][1]);else{if("asap"!==r)throw new ti.InvalidArgument("Invalid event config");var n=s(t,tu,function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){eN(function(){e.apply(null,t)})})})}})}(e);n||(n=tp),a||(a=tc);var i={subscribers:[],fire:a,subscribe:function(e){-1===i.subscribers.indexOf(e)&&(i.subscribers.push(e),i.fire=n(i.fire,e))},unsubscribe:function(e){i.subscribers=i.subscribers.filter(function(t){return t!==e}),i.fire=i.subscribers.reduce(n,a)}};return t[e]=r[e]=i,i}}function rx(e,t){return ej(t).from({prototype:e}),t}function r_(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function rk(e,t){e.filter=rb(e.filter,t)}function rS(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>rb(n(),t()):t,e.justLimit=r&&!n}function rM(e,t){if(e.isPrimKey)return t.primaryKey;let r=t.getIndexByKeyPath(e.index);if(!r)throw new ti.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function rO(e,t,r){let n=rM(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:n,range:e.range}})}function rE(e,t,r,n){let a=e.replayFilter?rb(e.filter,e.replayFilter()):e.filter;if(e.or){let s={},i=(e,r,n)=>{if(!a||a(r,n,e=>r.stop(e),e=>r.fail(e))){var i=r.primaryKey,o=""+i;"[object ArrayBuffer]"===o&&(o=""+new Uint8Array(i)),eM(s,o)||(s[o]=!0,t(e,r,n))}};return Promise.all([e.or._iterate(i,r),rP(rO(e,n,r),e.algorithm,i,!e.keysOnly&&e.valueMapper)])}return rP(rO(e,n,r),rb(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function rP(e,t,r,n){var a=t1(n?(e,t,a)=>r(n(e),t,a):r);return e.then(e=>{if(e)return e.start(()=>{var r=()=>e.continue();t&&!t(e,e=>r=e,t=>{e.stop(t),r=tc},t=>{e.fail(t),r=tc})||a(e.value,e,e=>r=e),r()})})}function rj(e,t){try{let r=rT(e),n=rT(t);if(r!==n)return"Array"===r?1:"Array"===n?-1:"binary"===r?1:"binary"===n?-1:"string"===r?1:"string"===n?-1:"Date"===r?1:"Date"!==n?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let s=0;s<a;++s)if(e[s]!==t[s])return e[s]<t[s]?-1:1;return r===n?0:r<n?-1:1}(rC(e),rC(t));case"Array":return function(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let s=0;s<a;++s){let i=rj(e[s],t[s]);if(0!==i)return i}return r===n?0:r<n?-1:1}(e,t)}}catch(a){}return NaN}function rT(e){let t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";let r=eZ(e);return"ArrayBuffer"===r?"binary":r}function rC(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class rD{_read(e,t){var r=this._ctx;return r.error?r.table._trans(null,ru.bind(null,r.error)):r.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ru.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=rb(t.algorithm,e)}_iterate(e,t){return rE(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&e_(r,e),t._ctx=r,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read(r=>rE(t,e,r,t.table.core))}count(e){return this._read(e=>{let t=this._ctx,r=t.table.core;if(r_(t,!0))return r.count({trans:e,query:{index:rM(t,r.schema),range:t.range}}).then(e=>Math.min(e,t.limit));var n=0;return rE(t,()=>(++n,!1),e,r).then(()=>n)}).then(e)}sortBy(e,t){let r=e.split(".").reverse(),n=r[0],a=r.length-1;function s(e,t){return t?s(e[r[t]],t-1):e[n]}var i="next"===this._ctx.dir?1:-1;function o(e,t){var r=s(e,a),n=s(t,a);return r<n?-i:r>n?i:0}return this.toArray(function(e){return e.sort(o)}).then(t)}toArray(e){return this._read(e=>{var t=this._ctx;if("next"===t.dir&&r_(t,!0)&&t.limit>0){let{valueMapper:r}=t,n=rM(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:n,range:t.range}}).then(({result:e})=>r?e.map(r):e)}{let a=[];return rE(t,e=>a.push(e),e,t.table.core).then(()=>a)}},e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,r_(t)?rS(t,()=>{var t=e;return(e,r)=>0===t||(1===t?(--t,!1):(r(()=>{e.advance(t),t=0}),!1))}):rS(t,()=>{var t=e;return()=>--t<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),rS(this._ctx,()=>{var t=e;return function(e,r,n){return--t<=0&&r(n),t>=0}},!0),this}until(e,t){return rk(this._ctx,function(r,n,a){return!e(r.value)||(n(a),t)}),this}first(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var t;return rk(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=rb(t.isMatch,e),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.key,r)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,r){e(r.primaryKey,r)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.key)}).then(function(){return r}).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&r_(t,!0)&&t.limit>0)return this._read(e=>{var r=rM(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:r,range:t.range}})}).then(({result:e})=>e).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(e){return e[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return rk(this._ctx,function(e){var t=e.primaryKey.toString(),n=eM(r,t);return r[t]=!0,!n}),this}modify(e){var t=this._ctx;return this._write(r=>{var n;if("function"==typeof e)n=e;else{var a=ew(e),s=a.length;n=function(t){for(var r=!1,n=0;n<s;++n){var i=a[n],o=e[i];eF(t,i)!==o&&(eK(t,i,o),r=!0)}return r}}let i=t.table.core,{outbound:o,extractKey:l}=i.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[],d=0,f=[],h=(e,t)=>{let{failures:r,numFailures:n}=t;for(let a of(d+=e-n,ew(r)))u.push(r[a])};return this.clone().primaryKeys().then(a=>{let s=u=>{let d=Math.min(c,a.length-u);return i.getMany({trans:r,keys:a.slice(u,u+d),cache:"immutable"}).then(f=>{let g=[],m=[],p=o?[]:null,b=[];for(let y=0;y<d;++y){let v=f[y],A={value:eV(v),primKey:a[u+y]};!1!==n.call(A,A.value,A)&&(null==A.value?b.push(a[u+y]):o||0===rj(l(v),l(A.value))?(m.push(A.value),o&&p.push(a[u+y])):(b.push(a[u+y]),g.push(A.value)))}let w=r_(t)&&t.limit===1/0&&("function"!=typeof e||e===rI)&&{index:t.index,range:t.range};return Promise.resolve(g.length>0&&i.mutate({trans:r,type:"add",values:g}).then(e=>{for(let t in e.failures)b.splice(parseInt(t),1);h(g.length,e)})).then(()=>(m.length>0||w&&"object"==typeof e)&&i.mutate({trans:r,type:"put",keys:p,values:m,criteria:w,changeSpec:"function"!=typeof e&&e}).then(e=>h(m.length,e))).then(()=>(b.length>0||w&&e===rI)&&i.mutate({trans:r,type:"delete",keys:b,criteria:w}).then(e=>h(b.length,e))).then(()=>a.length>u+d&&s(u+c))})};return s(0).then(()=>{if(u.length>0)throw new tn("Error modifying one or more objects",u,d,f);return a.length})})})}delete(){var e=this._ctx,t=e.range;return r_(e)&&(e.isPrimKey&&!rm||3===t.type)?this._write(r=>{let{primaryKey:n}=e.table.core.schema;return e.table.core.count({trans:r,query:{index:n,range:t}}).then(n=>e.table.core.mutate({trans:r,type:"deleteRange",range:t}).then(({failures:e,lastResult:t,results:r,numFailures:a})=>{if(a)throw new tn("Could not delete some values",Object.keys(e).map(t=>e[t]),n-a);return n-a}))}):this.modify(rI)}}let rI=(e,t)=>t.value=null;function r$(e,t){return e<t?-1:e===t?0:1}function rL(e,t){return e>t?-1:e===t?0:1}function rN(e,t,r){var n=e instanceof rU?new e.Collection(e):e;return n._ctx.error=r?new r(t):TypeError(t),n}function rB(e){return new e.Collection(e,()=>rY("")).limit(0)}function rF(e,t,r,n,a,s){for(var i=Math.min(e.length,n.length),o=-1,l=0;l<i;++l){var c=t[l];if(c!==n[l])return 0>a(e[l],r[l])?e.substr(0,l)+r[l]+r.substr(l+1):0>a(e[l],n[l])?e.substr(0,l)+n[l]+r.substr(l+1):o>=0?e.substr(0,o)+t[o]+r.substr(o+1):null;0>a(e[l],c)&&(o=l)}return i<n.length&&"next"===s?e+r.substr(e.length):i<e.length&&"prev"===s?e.substr(0,r.length):o<0?null:e.substr(0,o)+n[o]+r.substr(o+1)}function rK(e,t,r,n){var a,s,i,o,l,c,u,d=r.length;if(!r.every(e=>"string"==typeof e))return rN(e,"String expected.");function f(e){a="next"===e?e=>e.toUpperCase():e=>e.toLowerCase(),s="next"===e?e=>e.toLowerCase():e=>e.toUpperCase(),i="next"===e?r$:rL;var t=r.map(function(e){return{lower:s(e),upper:a(e)}}).sort(function(e,t){return i(e.lower,t.lower)});o=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),c=e,u="next"===e?"":n}f("next");var h=new e.Collection(e,()=>rR(o[0],l[d-1]+n));h._ondirectionchange=function(e){f(e)};var g=0;return h._addAlgorithm(function(e,r,n){var a=e.key;if("string"!=typeof a)return!1;var f=s(a);if(t(f,l,g))return!0;for(var h=null,m=g;m<d;++m){var p=rF(a,f,o[m],l[m],i,c);null===p&&null===h?g=m+1:(null===h||i(h,p)>0)&&(h=p)}return r(null!==h?function(){e.continue(h+u)}:n),!1}),h}function rR(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function rY(e){return{type:1,lower:e,upper:e}}class rU{get Collection(){return this._ctx.table.db.Collection}between(e,t,r,n){r=!1!==r,n=!0===n;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(r||n)&&(!r||!n)?rB(this):new this.Collection(this,()=>rR(e,t,!r,!n))}catch(a){return rN(this,rh)}}equals(e){return null==e?rN(this,rh):new this.Collection(this,()=>rY(e))}above(e){return null==e?rN(this,rh):new this.Collection(this,()=>rR(e,void 0,!0))}aboveOrEqual(e){return null==e?rN(this,rh):new this.Collection(this,()=>rR(e,void 0,!1))}below(e){return null==e?rN(this,rh):new this.Collection(this,()=>rR(void 0,e,!1,!0))}belowOrEqual(e){return null==e?rN(this,rh):new this.Collection(this,()=>rR(void 0,e))}startsWith(e){return"string"!=typeof e?rN(this,"String expected."):this.between(e,e+rf,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):rK(this,(e,t)=>0===e.indexOf(t[0]),[e],rf)}equalsIgnoreCase(e){return rK(this,(e,t)=>e===t[0],[e],"")}anyOfIgnoreCase(){var e=e1.apply(eQ,arguments);return 0===e.length?rB(this):rK(this,(e,t)=>-1!==t.indexOf(e),e,"")}startsWithAnyOfIgnoreCase(){var e=e1.apply(eQ,arguments);return 0===e.length?rB(this):rK(this,(e,t)=>t.some(t=>0===e.indexOf(t)),e,rf)}anyOf(){let e=e1.apply(eQ,arguments),t=this._cmp;try{e.sort(t)}catch(r){return rN(this,rh)}if(0===e.length)return rB(this);let n=new this.Collection(this,()=>rR(e[0],e[e.length-1]));n._ondirectionchange=r=>{t="next"===r?this._ascending:this._descending,e.sort(t)};let a=0;return n._addAlgorithm((r,n,s)=>{let i=r.key;for(;t(i,e[a])>0;)if(++a===e.length)return n(s),!1;return 0===t(i,e[a])||(n(()=>{r.continue(e[a])}),!1)}),n}notEqual(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let e=e1.apply(eQ,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(t){return rN(this,rh)}let r=e.reduce((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]],null);return r.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){let r=this._cmp,n=this._ascending,a=this._descending,s=this._min,i=this._max;if(0===e.length)return rB(this);if(!e.every(e=>void 0!==e[0]&&void 0!==e[1]&&0>=n(e[0],e[1])))return rN(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ti.InvalidArgument);let o=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,c,u=n;function d(e,t){return u(e[0],t[0])}try{(c=e.reduce(function(e,t){let n=0,a=e.length;for(;n<a;++n){let o=e[n];if(0>r(t[0],o[1])&&r(t[1],o[0])>0){o[0]=s(o[0],t[0]),o[1]=i(o[1],t[1]);break}}return n===a&&e.push(t),e},[])).sort(d)}catch(f){return rN(this,rh)}let h=0,g=l?e=>n(e,c[h][1])>0:e=>n(e,c[h][1])>=0,m=o?e=>a(e,c[h][0])>0:e=>a(e,c[h][0])>=0,p=g,b=new this.Collection(this,()=>rR(c[0][0],c[c.length-1][1],!o,!l));return b._ondirectionchange=e=>{"next"===e?(p=g,u=n):(p=m,u=a),c.sort(d)},b._addAlgorithm((e,t,r)=>{for(var a=e.key;p(a);)if(++h===c.length)return t(r),!1;return!!(!g(a)&&!m(a))||(0===this._cmp(a,c[h][1])||0===this._cmp(a,c[h][0])||t(()=>{u===n?e.continue(c[h][0]):e.continue(c[h][1])}),!1)}),b}startsWithAnyOf(){let e=e1.apply(eQ,arguments);return e.every(e=>"string"==typeof e)?0===e.length?rB(this):this.inAnyRange(e.map(e=>[e,e+rf])):rN(this,"startsWithAnyOf() only works with strings")}}function rq(e){return t1(function(t){return rW(t),e(t.target.error),!1})}function rW(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}let rz=rw(null,"storagemutated");class rV{_lock(){return eL(!t$.global),++this._reculock,1!==this._reculock||t$.global||(t$.lockOwnerFor=this),this}_unlock(){if(eL(!t$.global),0==--this._reculock)for(t$.global||(t$.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{rs(e[1],e[0])}catch(t){}}return this}_locked(){return this._reculock&&t$.lockOwnerFor!==this}create(e){if(!this.mode)return this;let t=this.db.idbdb,r=this.db._state.dbOpenError;if(eL(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new ti.DatabaseClosed(r);case"MissingAPIError":throw new ti.MissingAPI(r.message,r);default:throw new ti.OpenFailed(r)}if(!this.active)throw new ti.TransactionInactive;return eL(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=t1(t=>{rW(t),this._reject(e.error)}),e.onabort=t1(t=>{rW(t),this.active&&this._reject(new ti.Abort(e.error)),this.active=!1,this.on("abort").fire(t)}),e.oncomplete=t1(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&rz.storagemutated.fire(e.mutatedParts)}),this}_promise(e,t,r){if("readwrite"===e&&"readwrite"!==this.mode)return ru(new ti.ReadOnly("Transaction is readonly"));if(!this.active)return ru(new ti.TransactionInactive);if(this._locked())return new tF((n,a)=>{this._blockedFuncs.push([()=>{this._promise(e,t,r).then(n,a)},t$])});if(r)return t3(()=>{var e=new tF((e,r)=>{this._lock();let n=t(e,r,this);n&&n.then&&n.then(e,r)});return e.finally(()=>this._unlock()),e._lib=!0,e});var n=new tF((e,r)=>{var n=t(e,r,this);n&&n.then&&n.then(e,r)});return n._lib=!0,n}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();let r=tF.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>r);else{t._waitingFor=r,t._waitingQueue=[];var n=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=e)}()}var a=t._waitingFor;return new tF((e,n)=>{r.then(r=>t._waitingQueue.push(t1(e.bind(null,r))),e=>t._waitingQueue.push(t1(n.bind(null,e)))).finally(()=>{t._waitingFor===a&&(t._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ti.Abort))}table(e){let t=this._memoizedTables||(this._memoizedTables={});if(eM(t,e))return t[e];let r=this.schema[e];if(!r)throw new ti.NotFound("Table "+e+" not part of transaction");let n=new this.db.Table(e,r,this);return n.core=this.db.core.table(e),t[e]=n,n}}function rH(e,t,r,n,a,s,i){return{name:e,keyPath:t,unique:r,multi:n,auto:a,compound:s,src:(r&&!i?"&":"")+(n?"*":"")+(a?"++":"")+rG(t)}}function rG(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function rZ(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:eB(r,e=>[e.name,e])}}let rJ=e=>{try{return e.only([[]]),rJ=()=>[[]],[[]]}catch(t){return rJ=()=>rf,rf}};function rX(e){return null==e?()=>{}:"string"==typeof e?1===e.split(".").length?t=>t[e]:t=>eF(t,e):t=>eF(t,e)}function rQ(e){return[].slice.call(e)}let r1=0;function r0(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function r2(e,t,r){function n(e){if(3===e.type)return null;if(4===e.type)throw Error("Cannot convert never type to IDBKeyRange");let{lower:r,upper:n,lowerOpen:a,upperOpen:s}=e;return void 0===r?void 0===n?null:t.upperBound(n,!!s):void 0===n?t.lowerBound(r,!!a):t.bound(r,n,!!a,!!s)}let{schema:a,hasGetAll:s}=function(e,t){let r=rQ(e.objectStoreNames);return{schema:{name:e.name,tables:r.map(e=>t.objectStore(e)).map(e=>{let{keyPath:t,autoIncrement:r}=e,n=ex(t),a={},s={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:n,keyPath:t,autoIncrement:r,unique:!0,extractKey:rX(t)},indexes:rQ(e.indexNames).map(t=>e.index(t)).map(e=>{let{name:t,unique:r,multiEntry:n,keyPath:s}=e,i={name:t,compound:ex(s),keyPath:s,unique:r,multiEntry:n,extractKey:rX(s)};return a[r0(s)]=i,i}),getIndexByKeyPath:e=>a[r0(e)]};return a[":id"]=s.primaryKey,null!=t&&(a[r0(t)]=s.primaryKey),s})},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,r),i=a.tables.map(e=>(function(e){let t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:r,keys:a,values:s,range:i}){return new Promise((o,l)=>{let c;o=t1(o);let u=e.objectStore(t),d=null==u.keyPath,f="put"===r||"add"===r;if(!f&&"delete"!==r&&"deleteRange"!==r)throw Error("Invalid operation type: "+r);let{length:h}=a||s||{length:1};if(a&&s&&a.length!==s.length)throw Error("Given keys array must have same length as given values array.");if(0===h)return o({numFailures:0,failures:{},results:[],lastResult:void 0});let g=[],m=[],p=0,b=e=>{++p,rW(e)};if("deleteRange"===r){if(4===i.type)return o({numFailures:p,failures:m,results:[],lastResult:void 0});3===i.type?g.push(c=u.clear()):g.push(c=u.delete(n(i)))}else{let[y,v]=f?d?[s,a]:[s,null]:[a,null];if(f)for(let A=0;A<h;++A)g.push(c=v&&void 0!==v[A]?u[r](y[A],v[A]):u[r](y[A])),c.onerror=b;else for(let w=0;w<h;++w)g.push(c=u[r](y[w])),c.onerror=b}let x=e=>{let t=e.target.result;g.forEach((e,t)=>null!=e.error&&(m[t]=e.error)),o({numFailures:p,failures:m,results:"delete"===r?a:g.map(e=>e.result),lastResult:t})};c.onerror=e=>{b(e),x(e)},c.onsuccess=x})},getMany:({trans:e,keys:r})=>new Promise((n,a)=>{n=t1(n);let s=e.objectStore(t),i=r.length,o=Array(i),l,c=0,u=0,d=e=>{let t=e.target;o[t._pos]=t.result,++u===c&&n(o)},f=rq(a);for(let h=0;h<i;++h)null!=r[h]&&((l=s.get(r[h]))._pos=h,l.onsuccess=d,l.onerror=f,++c);0===c&&n(o)}),get:({trans:e,key:r})=>new Promise((n,a)=>{n=t1(n);let s=e.objectStore(t).get(r);s.onsuccess=e=>n(e.target.result),s.onerror=rq(a)}),query:e=>new Promise((r,a)=>{r=t1(r);let{trans:i,values:o,limit:l,query:c}=e,u=l===1/0?void 0:l,{index:d,range:f}=c,h=i.objectStore(t),g=d.isPrimaryKey?h:h.index(d.name),m=n(f);if(0===l)return r({result:[]});if(s){let p=o?g.getAll(m,u):g.getAllKeys(m,u);p.onsuccess=e=>r({result:e.target.result}),p.onerror=rq(a)}else{let b=0,y=!o&&"openKeyCursor"in g?g.openKeyCursor(m):g.openCursor(m),v=[];y.onsuccess=e=>{let t=y.result;return t?(v.push(o?t.value:t.primaryKey),++b===l?r({result:v}):void t.continue()):r({result:v})},y.onerror=rq(a)}}),openCursor:function({trans:e,values:r,query:a,reverse:s,unique:i}){return new Promise((o,l)=>{o=t1(o);let{index:c,range:u}=a,d=e.objectStore(t),f=c.isPrimaryKey?d:d.index(c.name),h=s?i?"prevunique":"prev":i?"nextunique":"next",g=!r&&"openKeyCursor"in f?f.openKeyCursor(n(u),h):f.openCursor(n(u),h);g.onerror=rq(l),g.onsuccess=t1(t=>{let r=g.result;if(!r)return void o(null);r.___id=++r1,r.done=!1;let n=r.continue.bind(r),a=r.continuePrimaryKey;a&&(a=a.bind(r));let s=r.advance.bind(r),i=()=>{throw Error("Cursor not stopped")};r.trans=e,r.stop=r.continue=r.continuePrimaryKey=r.advance=()=>{throw Error("Cursor not started")},r.fail=t1(l),r.next=function(){let e=1;return this.start(()=>e--?this.continue():this.stop()).then(()=>this)},r.start=e=>{let t=new Promise((e,t)=>{e=t1(e),g.onerror=rq(t),r.fail=t,r.stop=t=>{r.stop=r.continue=r.continuePrimaryKey=r.advance=i,e(t)}}),o=()=>{if(g.result)try{e()}catch(t){r.fail(t)}else r.done=!0,r.start=()=>{throw Error("Cursor behind last entry")},r.stop()};return g.onsuccess=t1(e=>{g.onsuccess=o,o()}),r.continue=n,r.continuePrimaryKey=a,r.advance=s,o(),t},o(r)},l)})},count({query:e,trans:r}){let{index:a,range:s}=e;return new Promise((e,i)=>{let o=r.objectStore(t),l=a.isPrimaryKey?o:o.index(a.name),c=n(s),u=c?l.count(c):l.count();u.onsuccess=t1(t=>e(t.target.result)),u.onerror=rq(i)})}}})(e)),o={};return i.forEach(e=>o[e.name]=e),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!o[e])throw Error(`Table '${e}' not found`);return o[e]},MIN_KEY:-1/0,MAX_KEY:rJ(t),schema:a}}function r8({_novip:e},t){let r=t.db,n=function(e,t,{IDBKeyRange:r,indexedDB:n},a){var s;let i=(s=r2(t,r,a),e.dbcore.reduce((e,{create:t})=>({...e,...t(e)}),s));return{dbcore:i}}(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(t=>{let r=t.name;e.core.schema.tables.some(e=>e.name===r)&&(t.core=e.core.table(r),e[r]instanceof e.Table&&(e[r].core=t.core))})}function r4({_novip:e},t,r,n){r.forEach(r=>{let a=n[r];t.forEach(t=>{let n=eC(t,r);(!n||"value"in n&&void 0===n.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?eP(t,r,{get(){return this.table(r)},set(e){eE(this,r,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[r]=new e.Table(r,a))})})}function r7({_novip:e},t){t.forEach(t=>{for(let r in t)t[r]instanceof e.Table&&delete t[r]})}function r5(e,t){return e._cfg.version-t._cfg.version}function r3(e,t,r,n){let a=e._dbSchema,s=e._createTransaction("readwrite",e._storeNames,a);s.create(r),s._completion.catch(n);let i=s._reject.bind(s),o=t$.transless||t$;t3(()=>{t$.trans=s,t$.transless=o,0===t?(ew(a).forEach(e=>{r6(r,e,a[e].primKey,a[e].indexes)}),r8(e,r),tF.follow(()=>e.on.populate.fire(s)).catch(i)):(function({_novip:e},t,r,n){let a=[],s=e._versions,i=e._dbSchema=nt(e,e.idbdb,n),o=!1;return s.filter(e=>e._cfg.version>=t).forEach(s=>{a.push(()=>{let a=i,l=s._cfg.dbschema;nr(e,a,n),nr(e,l,n),i=e._dbSchema=l;let c=r9(a,l);c.add.forEach(e=>{r6(n,e[0],e[1].primKey,e[1].indexes)}),c.change.forEach(e=>{if(e.recreate)throw new ti.Upgrade("Not yet support for changing primary key");{let t=n.objectStore(e.name);e.add.forEach(e=>ne(t,e)),e.change.forEach(e=>{t.deleteIndex(e.name),ne(t,e)}),e.del.forEach(e=>t.deleteIndex(e))}});let u=s._cfg.contentUpgrade;if(u&&s._cfg.version>t){let d;r8(e,n),r._memoizedTables={},o=!0;let f=eR(l);c.del.forEach(e=>{f[e]=a[e]}),r7(e,[e.Transaction.prototype]),r4(e,[e.Transaction.prototype],ew(f),f),r.schema=f;let h=e0(u);h&&t9();let g=tF.follow(()=>{if((d=u(r))&&h){var e=t6.bind(null,null);d.then(e,e)}});return d&&"function"==typeof d.then?tF.resolve(d):g.then(()=>d)}}),a.push(t=>{o&&rm||function(e,t){[].slice.call(t.db.objectStoreNames).forEach(r=>null==e[r]&&t.db.deleteObjectStore(r))}(s._cfg.dbschema,t),r7(e,[e.Transaction.prototype]),r4(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})}),(function e(){return a.length?tF.resolve(a.shift()(r.idbtrans)).then(e):tF.resolve()})().then(()=>{var e;ew(e=i).forEach(t=>{n.db.objectStoreNames.contains(t)||r6(n,t,e[t].primKey,e[t].indexes)})})})(e,t,s,r).catch(i)})}function r9(e,t){let r;let n={del:[],add:[],change:[]};for(r in e)t[r]||n.del.push(r);for(r in t){let a=e[r],s=t[r];if(a){let i={name:r,def:s,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")==""+(s.primKey.keyPath||"")&&(a.primKey.auto===s.primKey.auto||rm)){let o;let l=a.idxByName,c=s.idxByName;for(o in l)c[o]||i.del.push(o);for(o in c){let u=l[o],d=c[o];u?u.src!==d.src&&i.change.push(d):i.add.push(d)}(i.del.length>0||i.add.length>0||i.change.length>0)&&n.change.push(i)}else i.recreate=!0,n.change.push(i)}else n.add.push([r,s])}return n}function r6(e,t,r,n){let a=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(e=>ne(a,e)),a}function ne(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function nt(e,t,r){let n={};return eI(t.objectStoreNames,0).forEach(e=>{let t=r.objectStore(e),a=t.keyPath,s=rH(rG(a),a||"",!1,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),i=[];for(let o=0;o<t.indexNames.length;++o){let l=t.index(t.indexNames[o]);a=l.keyPath;var c=rH(l.name,a,!!l.unique,!!l.multiEntry,!1,a&&"string"!=typeof a,!1);i.push(c)}n[e]=rZ(e,s,i)}),n}function nr({_novip:e},t,r){let n=r.db.objectStoreNames;for(let a=0;a<n.length;++a){let s=n[a],i=r.objectStore(s);e._hasGetAll="getAll"in i;for(let o=0;o<i.indexNames.length;++o){let l=i.indexNames[o],c=i.index(l).keyPath,u="string"==typeof c?c:"["+eI(c).join("+")+"]";if(t[s]){let d=t[s].idxByName[u];d&&(d.name=l,delete t[s].idxByName[u],t[s].idxByName[l]=d)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&eA.WorkerGlobalScope&&eA instanceof eA.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class nn{_parseStoresSpec(e,t){ew(e).forEach(r=>{if(null!==e[r]){var n=e[r].split(",").map((e,t)=>{let r=(e=e.trim()).replace(/([&*]|\+\+)/g,""),n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return rH(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),ex(n),0===t)}),a=n.shift();if(a.multi)throw new ti.Schema("Primary key cannot be multi-valued");n.forEach(e=>{if(e.auto)throw new ti.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ti.Schema("Index must have a name and cannot be an empty string")}),t[r]=rZ(r,a,n)}})}stores(e){let t=this.db;this._cfg.storesSource=this._cfg.storesSource?e_(this._cfg.storesSource,e):e;let r=t._versions,n={},a={};return r.forEach(e=>{e_(n,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(n,a)}),t._dbSchema=a,r7(t,[t._allTables,t,t.Transaction.prototype]),r4(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],ew(a),a),t._storeNames=ew(a),this}upgrade(e){return this._cfg.contentUpgrade=tb(this._cfg.contentUpgrade||tc,e),this}}function na(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new nO("__dbnames",{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),r.table("dbnames")}function ns(e){return e&&"function"==typeof e.databases}function ni(e){return t3(function(){return t$.letThrough=!0,e()})}function no(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function nl(e){let t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?ru(t.dbOpenError):e);e2&&(t.openCanceller._stackHolder=e5()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;let n=t.openCanceller;function a(){if(t.openCanceller!==n)throw new ti.DatabaseClosed("db.open() was cancelled")}let s=t.dbReadyResolve,i=null,o=!1;return tF.race([n,("undefined"==typeof navigator?tF.resolve():no()).then(()=>new tF((n,s)=>{if(a(),!r)throw new ti.MissingAPI;let l=e.name,c=t.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!c)throw new ti.MissingAPI;c.onerror=rq(s),c.onblocked=t1(e._fireOnBlocked),c.onupgradeneeded=t1(n=>{if(i=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=rW,i.abort(),c.result.close();let a=r.deleteDatabase(l);a.onsuccess=a.onerror=t1(()=>{s(new ti.NoSuchDatabase(`Database ${l} doesnt exist`))})}else{i.onerror=rq(s);var u=n.oldVersion>0x4000000000000000?0:n.oldVersion;o=u<1,e._novip.idbdb=c.result,r3(e,u/10,i,s)}},s),c.onsuccess=t1(()=>{i=null;let r=e._novip.idbdb=c.result,a=eI(r.objectStoreNames);if(a.length>0)try{let s=r.transaction(1===a.length?a[0]:a,"readonly");t.autoSchema?function({_novip:e},t,r){e.verno=t.version/10;let n=e._dbSchema=nt(0,t,r);e._storeNames=eI(t.objectStoreNames,0),r4(e,[e._allTables],ew(n),n)}(e,r,s):(nr(e,e._dbSchema,s),function(e,t){let r=r9(nt(0,e.idbdb,t),e._dbSchema);return!(r.add.length||r.change.some(e=>e.add.length||e.change.length))}(e,s)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),r8(e,s)}catch(u){}rg.push(e),r.onversionchange=t1(r=>{t.vcFired=!0,e.on("versionchange").fire(r)}),r.onclose=t1(t=>{e.on("close").fire(t)}),o&&function({indexedDB:e,IDBKeyRange:t},r){ns(e)||"__dbnames"===r||na(e,t).put({name:r}).catch(tc)}(e._deps,l),n()},s)}))]).then(()=>(a(),t.onReadyBeingFired=[],tF.resolve(ni(()=>e.on.ready.fire(e.vip))).then(function r(){if(t.onReadyBeingFired.length>0){let n=t.onReadyBeingFired.reduce(tb,tc);return t.onReadyBeingFired=[],tF.resolve(ni(()=>n(e.vip))).then(r)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(r=>{t.dbOpenError=r;try{i&&i.abort()}catch(a){}return n===t.openCanceller&&e._close(),ru(r)}).finally(()=>{t.openComplete=!0,s()})}function nc(e){var t=t=>e.next(t),r=a(t),n=a(t=>e.throw(t));function a(e){return t=>{var a=e(t),s=a.value;return a.done?s:s&&"function"==typeof s.then?s.then(r,n):ex(s)?Promise.all(s).then(r,n):r(s)}}return a(t)()}function nu(e,t,r){var n=arguments.length;if(n<2)throw new ti.InvalidArgument("Too few arguments");for(var a=Array(n-1);--n;)a[n-1]=arguments[n];return r=a.pop(),[e,eU(a),r]}function nd(e,t,r,n,a){return tF.resolve().then(()=>{let s;let i=t$.transless||t$,o=e._createTransaction(t,r,e._dbSchema,n);if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(l){return l.name===ts.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>nd(e,t,r,null,a))):ru(l)}let c=e0(a);c&&t9();let u=tF.follow(()=>{if(s=a.call(o,o)){if(c){var e=t6.bind(null,null);s.then(e,e)}else"function"==typeof s.next&&"function"==typeof s.throw&&(s=nc(s))}},{trans:o,transless:i});return(s&&"function"==typeof s.then?tF.resolve(s).then(e=>o.active?e:ru(new ti.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):u.then(()=>s)).then(e=>(n&&o._resolve(),o._completion.then(()=>e))).catch(e=>(o._reject(e),ru(e)))})}function nf(e,t,r){let n=ex(e)?e.slice():[e];for(let a=0;a<r;++a)n.push(t);return n}let nh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){let r=e.table(t),{schema:n}=r,a={},s=[];function i(e,t,r){let n=r0(e),o=a[n]=a[n]||[],l=null==e?0:"string"==typeof e?1:e.length,c=t>0,u={...r,isVirtual:c,keyTail:t,keyLength:l,extractKey:rX(e),unique:!c&&r.unique};return o.push(u),u.isPrimaryKey||s.push(u),l>1&&i(2===l?e[0]:e.slice(0,l-1),t+1,r),o.sort((e,t)=>e.keyTail-t.keyTail),u}let o=i(n.primaryKey.keyPath,0,n.primaryKey);for(let l of(a[":id"]=[o],n.indexes))i(l.keyPath,0,l);function c(t){var r,n;let a=t.query.index;return a.isVirtual?{...t,query:{index:a,range:(r=t.query.range,n=a.keyTail,{type:1===r.type?2:r.type,lower:nf(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,n),lowerOpen:!0,upper:nf(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,n),upperOpen:!0})}}:t}let u={...r,schema:{...n,primaryKey:o,indexes:s,getIndexByKeyPath:function(e){let t=a[r0(e)];return t&&t[0]}},count:e=>r.count(c(e)),query:e=>r.query(c(e)),openCursor(t){let{keyTail:n,isVirtual:a,keyLength:s}=t.query.index;return a?r.openCursor(c(t)).then(r=>r&&function(r){let a=Object.create(r,{continue:{value:function(a){null!=a?r.continue(nf(a,t.reverse?e.MAX_KEY:e.MIN_KEY,n)):t.unique?r.continue(r.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,n)):r.continue()}},continuePrimaryKey:{value(t,a){r.continuePrimaryKey(nf(t,e.MAX_KEY,n),a)}},primaryKey:{get:()=>r.primaryKey},key:{get(){let e=r.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:()=>r.value}});return a}(r)):r.openCursor(t)}};return u}}}};function ng(e,t,r,n){return r=r||{},n=n||"",ew(e).forEach(a=>{if(eM(t,a)){var s=e[a],i=t[a];if("object"==typeof s&&"object"==typeof i&&s&&i){let o=eZ(s);o!==eZ(i)?r[n+a]=t[a]:"Object"===o?ng(s,i,r,n+a+"."):s!==i&&(r[n+a]=t[a])}else s!==i&&(r[n+a]=t[a])}else r[n+a]=void 0}),ew(t).forEach(a=>{eM(e,a)||(r[n+a]=t[a])}),r}let nm={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){let r=e.table(t),{primaryKey:n}=r.schema,a={...r,mutate(e){let a=t$.trans,{deleting:s,creating:i,updating:o}=a.table(t).hook;switch(e.type){case"add":if(i.fire===tc)break;return a._promise("readwrite",()=>l(e),!0);case"put":if(i.fire===tc&&o.fire===tc)break;return a._promise("readwrite",()=>l(e),!0);case"delete":if(s.fire===tc)break;return a._promise("readwrite",()=>l(e),!0);case"deleteRange":if(s.fire===tc)break;return a._promise("readwrite",()=>(function e(t,a,s){return r.query({trans:t,values:!1,query:{index:n,range:a},limit:s}).then(({result:r})=>l({type:"delete",keys:r,trans:t}).then(n=>n.numFailures>0?Promise.reject(n.failures[0]):r.length<s?{failures:[],numFailures:0,lastResult:void 0}:e(t,{...a,lower:r[r.length-1],lowerOpen:!0},s)))})(e.trans,e.range,1e4),!0)}return r.mutate(e);function l(e){var t,a;let l=t$.trans,c=e.keys||("delete"===(t=e).type?t.keys:t.keys||t.values.map(n.extractKey));if(!c)throw Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:c}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),("add"===(a=e).type?Promise.resolve([]):r.getMany({trans:a.trans,keys:c,cache:"immutable"})).then(t=>{let a=c.map((r,a)=>{let c=t[a],u={onerror:null,onsuccess:null};if("delete"===e.type)s.fire.call(u,r,c,l);else if("add"===e.type||void 0===c){let d=i.fire.call(u,r,e.values[a],l);null==r&&null!=d&&(r=d,e.keys[a]=r,n.outbound||eK(e.values[a],n.keyPath,r))}else{let f=ng(c,e.values[a]),h=o.fire.call(u,f,r,c,l);if(h){let g=e.values[a];Object.keys(h).forEach(e=>{eM(g,e)?g[e]=h[e]:eK(g,e,h[e])})}}return u});return r.mutate(e).then(({failures:r,results:n,numFailures:s,lastResult:i})=>{for(let o=0;o<c.length;++o){let l=n?n[o]:c[o],u=a[o];null==l?u.onerror&&u.onerror(r[o]):u.onsuccess&&u.onsuccess("put"===e.type&&t[o]?e.values[o]:l)}return{failures:r,results:n,numFailures:s,lastResult:i}}).catch(e=>(a.forEach(t=>t.onerror&&t.onerror(e)),Promise.reject(e)))})}}};return a}})};function np(e,t,r){try{if(!t||t.keys.length<e.length)return null;let n=[];for(let a=0,s=0;a<t.keys.length&&s<e.length;++a)0===rj(t.keys[a],e[s])&&(n.push(r?eV(t.values[a]):t.values[a]),++s);return n.length===e.length?n:null}catch(i){return null}}let nb={stack:"dbcore",level:-1,create:e=>({table(t){let r=e.table(t);return{...r,getMany(e){if(!e.cache)return r.getMany(e);let t=np(e.keys,e.trans._cache,"clone"===e.cache);return t?tF.resolve(t):r.getMany(e).then(t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?eV(t):t},t))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),r.mutate(e))}}})};function ny(e){return!("from"in e)}let nv=function(e,t){if(!this){let r=new nv;return e&&"d"in e&&e_(r,e),r}e_(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function nA(e,t,r){let n=rj(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(ny(e))return e_(e,{from:t,to:r,d:1});let a=e.l,s=e.r;if(0>rj(r,e.from))return a?nA(a,t,r):e.l={from:t,to:r,d:1,l:null,r:null},nk(e);if(rj(t,e.to)>0)return s?nA(s,t,r):e.r={from:t,to:r,d:1,l:null,r:null},nk(e);0>rj(t,e.from)&&(e.from=t,e.l=null,e.d=s?s.d+1:1),rj(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);let i=!e.r;a&&!e.l&&nw(e,a),s&&i&&nw(e,s)}function nw(e,t){ny(t)||function e(t,{from:r,to:n,l:a,r:s}){nA(t,r,n),a&&e(t,a),s&&e(t,s)}(e,t)}function nx(e,t){let r=n_(t),n=r.next();if(n.done)return!1;let a=n.value,s=n_(e),i=s.next(a.from),o=i.value;for(;!n.done&&!i.done;){if(0>=rj(o.from,a.to)&&rj(o.to,a.from)>=0)return!0;0>rj(a.from,o.from)?a=(n=r.next(o.from)).value:o=(i=s.next(a.from)).value}return!1}function n_(e){let t=ny(e)?null:{s:0,n:e};return{next(e){let r=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&0>rj(e,t.n.from);)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||0>=rj(e,t.n.to))return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function nk(e){var t,r;let n=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),a=n>1?"r":n<-1?"l":"";if(a){let s="r"===a?"l":"r",i={...e},o=e[a];e.from=o.from,e.to=o.to,e[a]=o[a],i[a]=o[s],e[s]=i,i.d=nS(i)}e.d=nS(e)}function nS({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}eO(nv.prototype,{add(e){return nw(this,e),this},addKey(e){return nA(this,e,e),this},addKeys(e){return e.forEach(e=>nA(this,e,e)),this},[eJ](){return n_(this)}});let nM={stack:"dbcore",level:0,create(e){let t=e.schema.name,r=new nv(e.MIN_KEY,e.MAX_KEY);return{...e,table(n){let a=e.table(n),{schema:s}=a,{primaryKey:i}=s,{extractKey:o,outbound:l}=i,c={...a,mutate(e){let i=e.trans,o=i.mutatedParts||(i.mutatedParts={}),l=e=>{let r=`idb://${t}/${n}/${e}`;return o[r]||(o[r]=new nv)},c=l(""),u=l(":dels"),{type:d}=e,[f,h]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[],g=e.trans._cache;return a.mutate(e).then(e=>{if(ex(f)){"delete"!==d&&(f=e.results),c.addKeys(f);let t=np(f,g);t||"add"===d||u.addKeys(f),(t||h)&&function(e,t,r,n){t.indexes.forEach(function(t){let a=e(t.name||"");function s(e){return null!=e?t.extractKey(e):null}let i=e=>t.multiEntry&&ex(e)?e.forEach(e=>a.addKey(e)):a.addKey(e);(r||n).forEach((e,t)=>{let a=r&&s(r[t]),o=n&&s(n[t]);0!==rj(a,o)&&(null!=a&&i(a),null!=o&&i(o))})})}(l,s,t,h)}else if(f){let n={from:f.lower,to:f.upper};u.add(n),c.add(n)}else c.add(r),u.add(r),s.indexes.forEach(e=>l(e.name).add(r));return e})}},u=({query:{index:t,range:r}})=>{var n,a;return[t,new nv(null!==(n=r.lower)&&void 0!==n?n:e.MIN_KEY,null!==(a=r.upper)&&void 0!==a?a:e.MAX_KEY)]},d={get:e=>[i,new nv(e.key)],getMany:e=>[i,(new nv).addKeys(e.keys)],count:u,query:u,openCursor:u};return ew(d).forEach(e=>{c[e]=function(s){let{subscr:i}=t$;if(i){let c=e=>{let r=`idb://${t}/${n}/${e}`;return i[r]||(i[r]=new nv)},u=c(""),f=c(":dels"),[h,g]=d[e](s);if(c(h.name||"").add(g),!h.isPrimaryKey){if("count"!==e){let m="query"===e&&l&&s.values&&a.query({...s,values:!1});return a[e].apply(this,arguments).then(t=>{if("query"===e){if(l&&s.values)return m.then(({result:e})=>(u.addKeys(e),t));let r=s.values?t.result.map(o):t.result;s.values?u.addKeys(r):f.addKeys(r)}else if("openCursor"===e){let n=s.values;return t&&Object.create(t,{key:{get:()=>(f.addKey(t.primaryKey),t.key)},primaryKey:{get(){let e=t.primaryKey;return f.addKey(e),e}},value:{get:()=>(n&&u.addKey(t.primaryKey),t.value)}})}return t})}f.add(r)}}return a[e].apply(this,arguments)}}),c}}}};class nO{constructor(e,t){var r,n,a;this._middlewares={},this.verno=0;let s=nO.dependencies;this._options=t={addons:nO.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};let{addons:i}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:tc,dbReadyPromise:null,cancelOpen:tc,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new tF(e=>{o.dbReadyResolve=e}),o.openCanceller=new tF((e,t)=>{o.cancelOpen=t}),this._state=o,this.name=e,this.on=rw(this,"populate","blocked","versionchange","close",{ready:[tb,tc]}),this.on.ready.subscribe=e$(this.on.ready.subscribe,e=>(t,r)=>{nO.vip(()=>{let n=this._state;if(n.openComplete)n.dbOpenError||tF.resolve().then(t),r&&e(t);else if(n.onReadyBeingFired)n.onReadyBeingFired.push(t),r&&e(t);else{e(t);let a=this;r||e(function e(){a.on.ready.unsubscribe(t),a.on.ready.unsubscribe(e)})}})}),this.Collection=(r=this,rx(rD.prototype,function(e,t){this.db=r;let n=ry,a=null;if(t)try{n=t()}catch(s){a=s}let i=e._ctx,o=i.table,l=o.hook.reading.fire;this._ctx={table:o,index:i.index,isPrimKey:!i.index||o.schema.primKey.keyPath&&i.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:i.or,valueMapper:l!==tu?l:null}})),this.Table=function(e){return rx(rA.prototype,function(t,r,n){this.db=e,this._tx=n,this.name=t,this.schema=r,this.hook=e._allTables[t]?e._allTables[t].hook:rw(null,{creating:[th,tc],reading:[td,tu],updating:[tm,tc],deleting:[tg,tc]})})}(this),this.Transaction=(n=this,rx(rV.prototype,function(e,t,r,a,s){this.db=n,this.mode=e,this.storeNames=t,this.schema=r,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=rw(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new tF((e,t)=>{this._resolve=e,this._reject=t}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ru(e)})})),this.Version=(a=this,rx(nn.prototype,function(e){this.db=a,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=function(e){return rx(rU.prototype,function(t,r,n){this.db=e,this._ctx={table:t,index:":id"===r?null:r,or:n};let a=e._deps.indexedDB;if(!a)throw new ti.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(e,t)=>a.cmp(t,e),this._max=(e,t)=>a.cmp(e,t)>0?e:t,this._min=(e,t)=>0>a.cmp(e,t)?e:t,this._IDBKeyRange=e._deps.IDBKeyRange})}(this),this.on("versionchange",e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)}),this._maxKey=rJ(t.IDBKeyRange),this._createTransaction=(e,t,r,n)=>new this.Transaction(e,t,r,this._options.chromeTransactionDurability,n),this._fireOnBlocked=e=>{this.on("blocked").fire(e),rg.filter(e=>e.name===this.name&&e!==this&&!e._state.vcFired).map(t=>t.on("versionchange").fire(e))},this.use(nh),this.use(nm),this.use(nM),this.use(nb),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(e=>e(this))}version(e){if(isNaN(e)||e<.1)throw new ti.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ti.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);let t=this._versions;var r=t.filter(t=>t._cfg.version===e)[0];return r||(r=new this.Version(e),t.push(r),t.sort(r5),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||t$.letThrough||this._vip)?e():new tF((e,t)=>{if(this._state.openComplete)return t(new ti.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ti.DatabaseClosed);this.open().catch(tc)}this._state.dbReadyPromise.then(e,t)}).then(e)}use({stack:e,create:t,level:r,name:n}){n&&this.unuse({stack:e,name:n});let a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:t,level:null==r?10:r,name:n}),a.sort((e,t)=>e.level-t.level),this}unuse({stack:e,name:t,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(e=>r?e.create!==r:!!t&&e.name!==t)),this}open(){return nl(this)}_close(){let e=this._state,t=rg.indexOf(this);if(t>=0&&rg.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(r){}this._novip.idbdb=null}e.dbReadyPromise=new tF(t=>{e.dbReadyResolve=t}),e.openCanceller=new tF((t,r)=>{e.cancelOpen=r})}close(){this._close();let e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ti.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){let e=arguments.length>0,t=this._state;return new tF((r,n)=>{let a=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=t1(()=>{(function({indexedDB:e,IDBKeyRange:t},r){ns(e)||"__dbnames"===r||na(e,t).delete(r).catch(tc)})(this._deps,this.name),r()}),e.onerror=rq(n),e.onblocked=this._fireOnBlocked};if(e)throw new ti.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){let e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return ew(this._allTables).map(e=>this._allTables[e])}transaction(){let e=nu.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,r){let n,a,s=t$.trans;s&&s.db===this&&-1===e.indexOf("!")||(s=null);let i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map(e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}),"r"==e||"readonly"===e)n="readonly";else{if("rw"!=e&&"readwrite"!=e)throw new ti.InvalidArgument("Invalid transaction mode: "+e);n="readwrite"}if(s){if("readonly"===s.mode&&"readwrite"===n){if(!i)throw new ti.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(e=>{if(s&&-1===s.storeNames.indexOf(e)){if(!i)throw new ti.SubTransaction("Table "+e+" not included in parent transaction.");s=null}}),i&&s&&!s.active&&(s=null)}}catch(o){return s?s._promise(null,(e,t)=>{t(o)}):ru(o)}let l=nd.bind(null,this,n,a,s,r);return s?s._promise(n,l,"lock"):t$.trans?rs(t$.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!eM(this._allTables,e))throw new ti.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}let nE="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class nP{constructor(e){this._subscribe=e}subscribe(e,t,r){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:r})}[nE](){return this}}function nj(e,t){return ew(t).forEach(r=>{nw(e[r]||(e[r]=new nv),t[r])}),e}function nT(e){return new nP(t=>{let r=e0(e),n=!1,a={},s={},i={get closed(){return n},unsubscribe(){n=!0,rz.storagemutated.unsubscribe(u)}};t.start&&t.start(i);let o=!1,l=!1;function c(){return ew(s).some(e=>a[e]&&nx(a[e],s[e]))}let u=e=>{nj(a,e),c()&&d()},d=()=>{if(o||n)return;a={};let f={},h=function(t){r&&t9();let n=()=>t3(e,{subscr:t,trans:null}),a=t$.trans?rs(t$.transless,n):n();return r&&a.then(t6,t6),a}(f);l||(rz("storagemutated",u),l=!0),o=!0,Promise.resolve(h).then(e=>{o=!1,n||(c()?d():(a={},s=f,t.next&&t.next(e)))},e=>{o=!1,t.error&&t.error(e),i.unsubscribe()})};return d(),i})}try{e={indexedDB:eA.indexedDB||eA.mozIndexedDB||eA.webkitIndexedDB||eA.msIndexedDB,IDBKeyRange:eA.IDBKeyRange||eA.webkitIDBKeyRange}}catch(nC){e={indexedDB:null,IDBKeyRange:null}}let nD=nO;function nI(e){let t=n$;try{n$=!0,rz.storagemutated.fire(e)}finally{n$=t}}eO(nD,{...tl,delete:e=>new nD(e,{addons:[]}).delete(),exists:e=>new nD(e,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return(function({indexedDB:e,IDBKeyRange:t}){return ns(e)?Promise.resolve(e.databases()).then(e=>e.map(e=>e.name).filter(e=>"__dbnames"!==e)):na(e,t).toCollection().primaryKeys()})(nD.dependencies).then(e)}catch(t){return ru(new ti.MissingAPI)}},defineClass:()=>function(e){e_(this,e)},ignoreTransaction:e=>t$.trans?rs(t$.transless,e):e(),vip:ni,async:function(e){return function(){try{var t=nc(e.apply(this,arguments));return t&&"function"==typeof t.then?t:tF.resolve(t)}catch(r){return ru(r)}}},spawn:function(e,t,r){try{var n=nc(e.apply(r,t||[]));return n&&"function"==typeof n.then?n:tF.resolve(n)}catch(a){return ru(a)}},currentTransaction:{get:()=>t$.trans||null},waitFor:function(e,t){let r=tF.resolve("function"==typeof e?nD.ignoreTransaction(e):e).timeout(t||6e4);return t$.trans?t$.trans.waitFor(r):r},Promise:tF,debug:{get:()=>e2,set(e){e8(e,"dexie"===e?()=>!0:rp)}},derive:ej,extend:e_,props:eO,override:e$,Events:rw,on:rz,liveQuery:nT,extendObservabilitySet:nj,getByKeyPath:eF,setByKeyPath:eK,delByKeyPath:function(e,t){"string"==typeof t?eK(e,t,void 0):"length"in t&&[].map.call(t,function(t){eK(e,t,void 0)})},shallowClone:eR,deepClone:eV,getObjectDiff:ng,cmp:rj,asap:eN,minKey:-1/0,addons:[],connections:rg,errnames:ts,dependencies:e,semVer:"3.2.3",version:"3.2.3".split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,2*r))}),nD.maxKey=rJ(nD.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(rz("storagemutated",e=>{if(!n$){let t;rm?(t=document.createEvent("CustomEvent")).initCustomEvent("x-storagemutated-1",!0,!0,e):t=new CustomEvent("x-storagemutated-1",{detail:e}),n$=!0,dispatchEvent(t),n$=!1}}),addEventListener("x-storagemutated-1",({detail:e})=>{n$||nI(e)}));let n$=!1;if("undefined"!=typeof BroadcastChannel){let nL=new BroadcastChannel("x-storagemutated-1");"function"==typeof nL.unref&&nL.unref(),rz("storagemutated",e=>{n$||nL.postMessage(e)}),nL.onmessage=e=>{e.data&&nI(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){rz("storagemutated",e=>{try{n$||("undefined"!=typeof localStorage&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(t=>t.postMessage({type:"x-storagemutated-1",changedParts:e})))}catch(t){}}),"undefined"!=typeof addEventListener&&addEventListener("storage",e=>{if("x-storagemutated-1"===e.key){let t=JSON.parse(e.newValue);t&&nI(t.changedParts)}});let nN=self.document&&navigator.serviceWorker;nN&&nN.addEventListener("message",function({data:e}){e&&"x-storagemutated-1"===e.type&&nI(e.changedParts)})}tF.rejectionMapper=function(e,t){if(!e||e instanceof tt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!to[e.name])return e;var r=new to[e.name](t||e.message,e);return"stack"in e&&eP(r,"stack",{get:function(){return this.inner.stack}}),r},e8(e2,rp);let nB="snapshot",nF={id:1,theme:"dark",display:"window",autoScrollToActiveTab:!1,createNewTabByLevel:!1,openAsLastPosition:!0,openLinkMapShortcutBehavior:"openOrFocus",showUrl:!1};class nK extends nO{constructor(){super("TabMasterDB"),this.snapshot=void 0,this.setting=void 0,this.version(2).stores({snapshot:"id",setting:"id"})}async getSnapshot(){let e=await this.snapshot.get(nB);return e?.data}async setSnapshot(e){await this.snapshot.put({data:e,id:nB,updateTime:Date.now()})}async initSetting(){let e=await this.getSetting();e||await this.setting.put(nF)}async getSetting(){let e=await this.setting.get(1);return e?{...nF,...e}:null}async updateSettingPartial(e){await this.setting.update(1,e)}}let nR=async e=>await H.storage.local.set({isNewUser:JSON.stringify(e)}),nY=async e=>await H.storage.local.set({isUpdate:JSON.stringify(e)});try{Z();let nU=new nK,nq=new Q("sync");async function nW(){let e=await G().tabs.query({});await G().action.setBadgeBackgroundColor({color:"#2b2d31"}),await G().action.setBadgeText({text:e.length.toString()})}nq.start(),G().contextMenus.onClicked.addListener(async e=>{if("reset-display-mode"===e.menuItemId){let t=await nU.getSetting();t?.display!=="window"&&(await nU.updateSettingPartial({display:"window"}),await eh(!1))}}),G().runtime.onInstalled.addListener(async e=>{n().debug("Extension installed",e.reason),n().debug("production"),n().debug("edge"),"install"===e.reason&&await nR(!0),G().contextMenus.create({id:"reset-display-mode",title:G().i18n.getMessage("resetDisplayMode"),contexts:["action"]}),"update"===e.reason&&"1.1.4"!==e.previousVersion&&"1.1.4"===G().runtime.getManifest().version&&await nY(!0);let t=new nK;await t.initSetting(),await nW(),await el()}),W("tree-ready",async e=>{let{windowId:t,tabId:r}=e.data;await eo({windowId:t,tabId:r})}),W("display-changed",async()=>{await em(nU)}),G().action.onClicked.addListener(e=>{eg(e,nU)}),G().tabs.onCreated.addListener(async e=>{nW(),n().debug("[bg]: tab created!",e),er(e.url)||er(e.pendingUrl)||et("add-tab",e)}),G().tabs.onRemoved.addListener(async(e,t)=>{nW(),n().debug("[bg]: tab removed!",e),et("remove-tab",{windowId:t.windowId,tabId:e})}),G().tabs.onUpdated.addListener(async(e,t,r)=>{n().debug("[bg]: tab updated!",r),et("update-tab",r)}),G().tabs.onMoved.addListener((e,{windowId:t,fromIndex:r,toIndex:a})=>{n().debug("[bg]: tab moved!",e,`from ${r} to ${a}`),et("move-tab",{windowId:t,fromIndex:r,toIndex:a,tabId:e})}),G().tabs.onActivated.addListener(({tabId:e,windowId:t})=>{n().debug("[bg]: tab activated!"),et("activated-tab",{windowId:t,tabId:e})}),G().tabs.onAttached.addListener((e,{newPosition:t,newWindowId:r})=>{n().debug("[bg]: attached, tabId:",e,t),et("attach-tab",{windowId:r,tabId:e,newIndex:t})}),G().tabs.onDetached.addListener(e=>{n().debug("[bg]: detached, tabId:",e),et("detach-tab",{tabId:e})}),G().tabs.onReplaced.addListener((e,t)=>{n().debug("[bg]: replaced, addedTabId:",e,"removedTabId:",t),et("replace-tab",{addedTabId:e,removedTabId:t})}),G().windows.onCreated.addListener(async e=>{n().debug("[bg]: window create!"),et("add-window",e)}),G().windows.onRemoved.addListener(async e=>{n().debug("[bg]: window remove!");let t=await ei();t&&t.windowId===e&&await el(),et("remove-window",{windowId:e})}),G().windows.onFocusChanged.addListener(e=>{n().debug("[bg]: window focus changed!"),et("window-focus",{windowId:e})}),chrome.tabGroups.onCreated.addListener(async e=>{n().debug("[bg]: tab group created!",e),et("create-tab-group",e)}),chrome.tabGroups.onRemoved.addListener(async e=>{n().debug("[bg]: tab group removed!",e),et("remove-tab-group",e)}),chrome.tabGroups.onUpdated.addListener(async e=>{n().debug("[bg]: tab group updated!",e),et("update-tab-group",e)}),chrome.tabGroups.onMoved.addListener(async e=>{n().debug("[bg]: tab group moved!",e),et("move-tab-group",e)});let nz=async e=>{let t=await chrome.system.display.getInfo(),r=t.find(e=>e.isPrimary),n=r?Math.floor(r.workArea.width/5):895,a=r?r.workArea.height:1050;await G().windows.create({url:"import.html",type:"popup",width:n,height:a,left:0,top:0,focused:!0}),await G().storage.local.set({importData:e})};W("import-data",async e=>{nz({data:e.data,type:"linkMap"})}),W("import-tabOutliner-data",async e=>{nz({data:e.data,type:"tabOutliner"})}),G().commands.onCommand.addListener(async e=>{let t=await nU.getSetting();t?.display!=="sidePanel"&&(e===ev.openLinkMap?await (t&&t.openLinkMapShortcutBehavior&&"openOrFocus"!==t.openLinkMapShortcutBehavior?ey(nU):eb(!1,nU)):e===ev.globalSearch&&await eb(!0,nU))})}catch(nV){n().error(nV)}})()})();